(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{12:function(e,t,a){e.exports=a(17)},17:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(8),o=a.n(s),r=a(1),i=a(2),l=a(4),u=a(3),m=a(5),p=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"samples"},c.a.createElement("audio",{id:"rain",src:"/ElectronAligner/assets/sounds/rain.mp3",autoPlay:!1,loop:!0}),c.a.createElement("audio",{id:"science",src:"/ElectronAligner/assets/sounds/science.mp3",autoPlay:!1,loop:!0}),c.a.createElement("audio",{id:"subway",src:"/ElectronAligner/assets/sounds/subway.mp3",autoPlay:!1,loop:!0}),c.a.createElement("audio",{id:"synth",src:"/ElectronAligner/assets/sounds/synth.mp3",autoPlay:!1,loop:!0}),c.a.createElement("audio",{id:"vinyl",src:"/ElectronAligner/assets/sounds/vinyl.mp3",autoPlay:!1,loop:!0}),c.a.createElement("audio",{id:"cat",src:"/ElectronAligner/assets/sounds/cat.mp3",autoPlay:!1}),c.a.createElement("audio",{id:"robot",src:"/ElectronAligner/assets/sounds/robot.mp3",autoPlay:!1}),c.a.createElement("audio",{id:"dracula",src:"/ElectronAligner/assets/sounds/dracula.mp3",autoPlay:!1}))}}]),t}(c.a.Component),d=a(9),h=a(6),g=a.n(h),v=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.colorScheme;return c.a.createElement("div",{className:"logo-and-buttons ".concat(t)},c.a.createElement("div",{className:"logo"},c.a.createElement("h1",{className:"main-heading"},"Electron Aligner")),c.a.createElement("div",{className:"buttons"},c.a.createElement("div",{className:"play-button",onClick:this.props.togglePlay},this.props.playing&&c.a.createElement("i",{className:"fas fa-pause"}),!this.props.playing&&c.a.createElement("i",{className:"fas fa-play"})),c.a.createElement("div",{className:"bpm-select"},this.props.bpm)),c.a.createElement("select",{className:"color-select",value:this.props.colorScheme,onChange:function(t){return e.props.changeColorScheme(t)}},c.a.createElement("option",{className:"color-option",value:"--color--",disabled:!0},"--color--"),c.a.createElement("option",{className:"color-option",value:"future time"},"Future Time"),c.a.createElement("option",{className:"color-option",value:"sparks"},"Sparks"),c.a.createElement("option",{className:"color-option",value:"dokidoki"},"Doki doki"),c.a.createElement("option",{className:"color-option",value:"free"},"Free"),c.a.createElement("option",{className:"color-option",value:"hxh"},"HxH")))}}]),t}(c.a.Component),f=function(e){function t(e){var a;Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).visualize=function(){cancelAnimationFrame(a.animation),a.canvasCtx.clearRect(0,0,a.WIDTH,a.HEIGHT),"osc"===a.state.mode?a.drawOsc():a.drawBars()},a.getColor=function(){switch(a.props.colorScheme){case"future time":return"rgb(143, 97, 230)";case"sparks":return"rgb(231, 133, 41)";case"dokidoki":return"rgb(248, 103, 131)";case"free":return"rgb(71, 209, 222)";case"hxh":return"rgb(81, 145, 78)";default:return"rgb(143, 97, 230)"}},a.drawOsc=function(){a.analyser.fftSize=2048;var e=a.analyser.fftSize,t=new Uint8Array(e);a.animation=requestAnimationFrame(a.drawOsc),a.analyser.getByteTimeDomainData(t),a.canvasCtx.fillStyle="rgb(0, 0, 0)",a.canvasCtx.fillRect(0,0,a.WIDTH,a.HEIGHT),a.canvasCtx.lineWidth=2,a.canvasCtx.strokeStyle="".concat(a.getColor()),a.canvasCtx.beginPath();for(var n=1*a.WIDTH/e,c=0,s=0;s<e;s++){var o=t[s]/128*a.HEIGHT/2;0===s?a.canvasCtx.moveTo(c,o):a.canvasCtx.lineTo(c,o),c+=n}a.canvasCtx.lineTo(a.canvas.width,a.canvas.height/2),a.canvasCtx.stroke()},a.drawBars=function(){a.analyser.fftSize=256;var e=a.analyser.frequencyBinCount,t=new Uint8Array(e);a.animation=requestAnimationFrame(a.drawBars),a.analyser.getByteFrequencyData(t),a.canvasCtx.fillStyle="rgb(0, 0, 0)",a.canvasCtx.fillRect(0,0,a.WIDTH,a.HEIGHT);for(var n,c=a.WIDTH/e*2.5,s=0,o=0;o<e;o++)n=t[o],a.canvasCtx.fillStyle="".concat(a.getColor()),a.canvasCtx.fillRect(s,a.HEIGHT-n/2,c,n/2),s+=c+1},a.toggleMode=function(e){e.preventDefault(),"osc"===a.state.mode?a.setState({mode:"bar"}):a.setState({mode:"osc"})};var n=a.props.analyser;return a.state={mode:"osc"},a.animation=null,document.addEventListener("DOMContentLoaded",(function(){a.canvas=document.querySelector(".osc-canvas"),a.canvasCtx=a.canvas.getContext("2d"),a.WIDTH=a.canvas.width,a.HEIGHT=a.canvas.height,a.analyser=n,a.visualize()})),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(){this.visualize()}},{key:"render",value:function(){return c.a.createElement("div",{className:"oscilloscope"},c.a.createElement("button",{className:"visual-select",onClick:this.toggleMode},c.a.createElement("img",{className:"wildcard-image",src:"/ElectronAligner/assets/images/waveform-path-solid.svg",alt:""})),c.a.createElement("canvas",{className:"osc-canvas"}))}}]),t}(c.a.Component),y=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).updateSound=function(e,t,n){var c=parseInt(e.currentTarget.value);a.props.updateSound(t,n,c)},a.toggleMute=function(){a.setState((function(e){return{muted:!e.muted}})),a.props.toggleMute()},a.state={muted:!1},document.addEventListener("keydown",(function(e){switch(e.keyCode){case 77:a.props.toggleMute();break;default:return}})),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.colorScheme;return c.a.createElement("div",{className:"sound-controls ".concat(t)},c.a.createElement("input",{className:"master-volume ".concat(t),type:"range",value:100*this.props.masterVolume,min:0,max:100,onChange:this.props.changeMasterVolume}),c.a.createElement("button",{className:"mute-button",onClick:this.toggleMute},this.state.muted&&c.a.createElement("img",{className:"wildcard-image",src:"/ElectronAligner/assets/images/volume-mute-solid.svg",alt:""}),!this.state.muted&&c.a.createElement("img",{className:"wildcard-image",src:"/ElectronAligner/assets/images/volume-up-solid.svg",alt:""})),c.a.createElement("div",{className:"sc-left"},c.a.createElement("div",{className:"kick-controls"},c.a.createElement("h3",{className:"sound-label"},"Kick"),c.a.createElement("input",{className:"".concat(t),type:"range",min:0,max:100,value:100*this.props.kick.volume,onChange:function(t){return e.updateSound(t,"kick","volume")}}),c.a.createElement("input",{className:"".concat(t),type:"range",min:100,max:350,value:this.props.kick.tone,onChange:function(t){return e.updateSound(t,"kick","tone")}}),c.a.createElement("input",{className:"".concat(t),type:"range",min:0,max:200,value:100*this.props.kick.decay,onChange:function(t){return e.updateSound(t,"kick","decay")}})),c.a.createElement("div",{className:"snare-controls"},c.a.createElement("h3",{className:"sound-label"},"Snare"),c.a.createElement("input",{className:"".concat(t),type:"range",min:0,max:100,value:100*this.props.snare.volume,onChange:function(t){return e.updateSound(t,"snare","volume")}}),c.a.createElement("input",{className:"".concat(t),type:"range",min:20,max:300,value:this.props.snare.tone,onChange:function(t){return e.updateSound(t,"snare","tone")}}),c.a.createElement("input",{className:"".concat(t),type:"range",min:0,max:75,value:100*this.props.snare.decay,onChange:function(t){return e.updateSound(t,"snare","decay")}}))),c.a.createElement("div",{className:"sc-middle"},c.a.createElement("div",{className:"setting-labels"},c.a.createElement("p",null,"Volume"),c.a.createElement("p",null,"Tone"),c.a.createElement("p",null,"Decay")),c.a.createElement("div",{className:"setting-labels"},c.a.createElement("p",null,"Volume"),c.a.createElement("p",null,"Tone"),c.a.createElement("p",null,"Decay"))),c.a.createElement("div",{className:"sc-right"},c.a.createElement("div",{className:"hat-controls"},c.a.createElement("h3",{className:"sound-label"},"Hat"),c.a.createElement("input",{className:"".concat(t),type:"range",min:0,max:100,value:100*this.props.hat.volume,onChange:function(t){return e.updateSound(t,"hat","volume")}}),c.a.createElement("input",{className:"".concat(t),type:"range",min:100,max:350,value:this.props.hat.tone,onChange:function(t){return e.updateSound(t,"hat","tone")}}),c.a.createElement("input",{className:"".concat(t),type:"range",min:0,max:200,value:100*this.props.hat.decay,onChange:function(t){return e.updateSound(t,"hat","decay")}})),c.a.createElement("div",{className:"clap-controls"},c.a.createElement("h3",{className:"sound-label"},"Clap"),c.a.createElement("input",{className:"".concat(t),type:"range",min:0,max:100,value:100*this.props.clap.volume,onChange:function(t){return e.updateSound(t,"clap","volume")}}),c.a.createElement("input",{className:"".concat(t),type:"range",min:300,max:1e3,value:this.props.clap.tone,onChange:function(t){return e.updateSound(t,"clap","tone")}}),c.a.createElement("input",{className:"".concat(t),type:"range",min:0,max:75,value:100*this.props.clap.decay,onChange:function(t){return e.updateSound(t,"clap","decay")}}))))}}]),t}(c.a.Component),E=function(e){function t(e){var a;Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).toggleBitCrusher=function(){var e=a.props.bitCrusher;a.setState((function(e){return{bitCrusher:!e.bitCrusher}})),0===e.wet.value?e.wet.value=1:e.wet.value=0},a.toggleChorus=function(){var e=a.props.chorus;a.setState((function(e){return{chorus:!e.chorus}})),0===e.wet.value?e.wet.value=1:e.wet.value=0},a.toggleWah=function(){var e=a.props.wah;a.setState((function(e){return{wah:!e.wah}})),0===e.wet.value?e.wet.value=1:e.wet.value=0},a.togglePingPong=function(){var e=a.props.pingPong;a.setState((function(e){return{pingPong:!e.pingPong}})),0===e.wet.value?e.wet.value=.5:e.wet.value=0},a.toggleRain=function(){a.setState((function(e){return{rain:!e.rain}})),a.rain.paused?a.rain.play():a.rain.pause()},a.toggleScience=function(){a.setState((function(e){return{science:!e.science}})),a.science.paused?a.science.play():a.science.pause()},a.toggleSynth=function(){a.setState((function(e){return{synth:!e.synth}})),a.synth.paused?a.synth.play():a.synth.pause()},a.toggleSubway=function(){a.setState((function(e){return{subway:!e.subway}})),a.subway.paused?a.subway.play():a.subway.pause()},a.toggleVinyl=function(){a.setState((function(e){return{vinyl:!e.vinyl}})),a.vinyl.paused?a.vinyl.play():a.vinyl.pause()},a.playDracula=function(){a.dracula.paused&&(a.setState({dracula:!0}),a.dracula.play(),setTimeout((function(){a.setState({dracula:!1})}),5500))},a.triggerMeow=function(){a.cat.paused&&(a.setState({cat:!0}),a.cat.play(),setTimeout((function(){a.setState({cat:!1})}),1e3))},a.tryAgain=function(){a.robot.paused&&(a.setState({robot:!0}),a.robot.play(),setTimeout((function(){a.setState({robot:!1})}),2e3))};var n=a.props,c=n.context,s=n.effects;return a.state={rain:!1,dracula:!1,cat:!1,robot:!1,bitCrusher:!1,chorus:!1,wah:!1,pingPong:!1,science:!1,synth:!1,subway:!1,vinyl:!1},document.addEventListener("DOMContentLoaded",(function(){a.rain=document.getElementById("rain");var e=c.createMediaElementSource(a.rain);a.rainGain=c.createGain(),e.connect(a.rainGain),a.rainGain.connect(s),a.dracula=document.getElementById("dracula");var t=c.createMediaElementSource(a.dracula);a.draculaGain=c.createGain(),t.connect(a.draculaGain),a.draculaGain.connect(s),a.cat=document.getElementById("cat");var n=c.createMediaElementSource(a.cat);a.catGain=c.createGain(),n.connect(a.catGain),a.catGain.connect(s),a.robot=document.getElementById("robot");var o=c.createMediaElementSource(a.robot);a.robotGain=c.createGain(),o.connect(a.robotGain),a.robotGain.connect(s),a.science=document.getElementById("science");var r=c.createMediaElementSource(a.science);a.scienceGain=c.createGain(),r.connect(a.scienceGain),a.scienceGain.connect(s),a.synth=document.getElementById("synth");var i=c.createMediaElementSource(a.synth);a.synthGain=c.createGain(),i.connect(a.synthGain),a.synthGain.connect(s),a.subway=document.getElementById("subway");var l=c.createMediaElementSource(a.subway);a.subwayGain=c.createGain(),l.connect(a.subwayGain),a.subwayGain.connect(s),a.vinyl=document.getElementById("vinyl");var u=c.createMediaElementSource(a.vinyl);a.vinylGain=c.createGain(),u.connect(a.vinylGain),a.vinylGain.connect(s)})),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.colorScheme,t=this.state.bitCrusher?"active-effect":"",a=this.state.rain?"active-effect":"",n=this.state.chorus?"active-effect":"",s=this.state.wah?"active-effect":"",o=this.state.pingPong?"active-effect":"",r=this.state.dracula?"active-effect":"",i=this.state.cat?"active-effect":"",l=this.state.robot?"active-effect":"",u=this.state.science?"active-effect":"",m=this.state.synth?"active-effect":"",p=this.state.subway?"active-effect":"",d=this.state.vinyl?"active-effect":"";return c.a.createElement("ul",{className:"wildcards ".concat(e)},c.a.createElement("li",{className:"wildcard ".concat(e," ").concat(a),onClick:this.toggleRain,key:"rain"},c.a.createElement("img",{className:"wildcard-image",src:"/ElectronAligner/assets/images/raindrops-solid.svg",alt:""})),c.a.createElement("li",{className:"wildcard ".concat(e," ").concat(r),onClick:this.playDracula,key:"dracula"},c.a.createElement("img",{className:"wildcard-image",src:"/ElectronAligner/assets/images/bat-solid.svg",alt:""})),c.a.createElement("li",{className:"wildcard ".concat(e," ").concat(i),onClick:this.triggerMeow,key:"cat"},c.a.createElement("img",{className:"wildcard-image",src:"/ElectronAligner/assets/images/cat-solid.svg",alt:""})),c.a.createElement("li",{className:"wildcard ".concat(e," ").concat(l),onClick:this.tryAgain,key:"robot"},c.a.createElement("img",{className:"wildcard-image",src:"/ElectronAligner/assets/images/robot-solid.svg",alt:""})),c.a.createElement("li",{className:"wildcard ".concat(e," ").concat(u),onClick:this.toggleScience,key:"science"},c.a.createElement("img",{className:"wildcard-image",src:"/ElectronAligner/assets/images/flask-solid.svg",alt:""})),c.a.createElement("li",{className:"wildcard ".concat(e," ").concat(m),onClick:this.toggleSynth,key:"synth"},c.a.createElement("img",{className:"wildcard-image",src:"/ElectronAligner/assets/images/piano-keyboard-solid.svg",alt:""})),c.a.createElement("li",{className:"wildcard ".concat(e," ").concat(p),onClick:this.toggleSubway,key:"subway"},c.a.createElement("img",{className:"wildcard-image",src:"/ElectronAligner/assets/images/subway-solid.svg",alt:""})),c.a.createElement("li",{className:"wildcard ".concat(e," ").concat(d),onClick:this.toggleVinyl,key:"vinyl"},c.a.createElement("img",{className:"wildcard-image",src:"/ElectronAligner/assets/images/turntable-solid.svg",alt:""})),c.a.createElement("li",{className:"wildcard ".concat(e," ").concat(t),onClick:this.toggleBitCrusher,key:"donotpress"},c.a.createElement("img",{className:"wildcard-image",src:"/ElectronAligner/assets/images/bomb-solid.svg",alt:""})),c.a.createElement("li",{className:"wildcard ".concat(e," ").concat(n),onClick:this.toggleChorus,key:"chorus"},c.a.createElement("img",{className:"wildcard-image",src:"/ElectronAligner/assets/images/cassette-tape-solid.svg",alt:""})),c.a.createElement("li",{className:"wildcard ".concat(e," ").concat(s),onClick:this.toggleWah,key:"wah"},c.a.createElement("img",{className:"wildcard-image",src:"/ElectronAligner/assets/images/wave-sine-solid.svg",alt:""})),c.a.createElement("li",{className:"wildcard ".concat(e," ").concat(o),onClick:this.togglePingPong,key:"pong"},c.a.createElement("img",{className:"wildcard-image",src:"/ElectronAligner/assets/images/table-tennis-solid.svg",alt:""})))}}]),t}(c.a.Component),b=a(10),S=a.n(b),k=function e(){Object(r.a)(this,e),this.steps=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]},w=a(11),C=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.step===e.currentStep?"active-light":"";return c.a.createElement("li",{className:"step-bar-light ".concat(t)})}}]),t}(c.a.Component),N=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("ul",{className:"step-bar"},Object(w.a)(Array(16).keys()).map((function(t){return c.a.createElement(C,{step:t,currentStep:e.props.currentStep,key:t})})))}}]),t}(c.a.Component),x=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).toggleSelect=function(){var e=a.props,t=e.sound,n=e.stepNumber;a.setState((function(e){return{selected:!e.selected}})),a.props.updateSequence(t,n,!a.state.selected)},a.state={selected:e.step},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.selected?"selected":"",t=this.props.colorScheme;return c.a.createElement("li",{className:"step ".concat(e," ").concat(t),onClick:this.toggleSelect})}}]),t}(c.a.Component),O=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"row-container"},c.a.createElement("p",{className:"track-label"},this.props.sound),c.a.createElement("ul",{className:"row"},this.props.steps.map((function(t,a){return c.a.createElement(x,{step:t,sound:e.props.sound,stepNumber:a,updateSequence:e.props.updateSequence,colorScheme:e.props.colorScheme,key:a})}))))}}]),t}(c.a.Component),T=function e(t,a,n){var c=this;Object(r.a)(this,e),this.setup=function(){c.osc=c.context.createOscillator(),c.gain=c.context.createGain(),c.osc.connect(c.gain),c.gain.connect(c.effects)},this.trigger=function(e){c.volume&&(c.setup(),c.osc.frequency.setValueAtTime(c.tone,e+.001),c.gain.gain.setValueAtTime(c.volume,e),c.osc.frequency.exponentialRampToValueAtTime(.01,e+c.decay),c.gain.gain.exponentialRampToValueAtTime(.01,e+c.decay),c.gain.gain.linearRampToValueAtTime(0,e+c.decay+.1),c.osc.start(e),c.osc.stop(e+c.decay+.1))},this.context=t.rawContext,this.effects=a,this.tone=n.tone,this.volume=n.volume,this.decay=n.decay},j=function e(t,a,n){var c=this;Object(r.a)(this,e),this.noiseBuffer=function(){for(var e=c.context.sampleRate,t=c.context.createBuffer(1,e,c.context.sampleRate),a=t.getChannelData(0),n=0;n<e;n++)a[n]=2*Math.random()-1;return t},this.setup=function(){c.noise=c.context.createBufferSource(),c.noise.buffer=c.noiseBuffer();var e=c.context.createBiquadFilter();e.type="highpass",e.frequency.value=1e3,c.noise.connect(e),c.noiseEnvelope=c.context.createGain(),e.connect(c.noiseEnvelope),c.noiseEnvelope.connect(c.effects),c.osc=c.context.createOscillator(),c.osc.type="triangle",c.oscEnvelope=c.context.createGain(),c.osc.connect(c.oscEnvelope),c.oscEnvelope.connect(c.effects)},this.trigger=function(e){c.volume&&(c.setup(),c.noiseEnvelope.gain.setValueAtTime(c.volume,e),c.noiseEnvelope.gain.exponentialRampToValueAtTime(.01,e+c.decay),c.noise.start(e),c.osc.frequency.setValueAtTime(c.tone,e),c.volume>=.7?c.oscEnvelope.gain.setValueAtTime(.5,e):c.oscEnvelope.gain.setValueAtTime(c.volume,e),c.oscEnvelope.gain.exponentialRampToValueAtTime(.01,e+.1),c.osc.start(e),c.decay>=.2?c.osc.stop(e+.2):c.osc.stop(e+c.decay),c.noise.stop(e+c.decay))},this.context=t.rawContext,this.effects=a,this.tone=n.tone,this.volume=n.volume,this.decay=n.decay},A=function e(t,a,n){var c=this;Object(r.a)(this,e),this.setup=function(){c.oscEnvelope=c.context.createGain(),c.bndPass=c.context.createBiquadFilter(),c.bndPass.type="bandpass",c.bndPass.frequency.value=2e4,c.bndPass.Q.value=.2,c.hipass=c.context.createBiquadFilter(),c.hipass.type="highpass",c.hipass.frequency.value=5e3,c.bndPass.connect(c.hipass),c.hipass.connect(c.oscEnvelope),c.oscEnvelope.connect(c.effects)},this.trigger=function(e){0!==c.volume&&(c.setup(),c.ratios.forEach((function(t){var a=c.context.createOscillator();a.type="square",a.frequency.value=c.tone*t,a.connect(c.bndPass),a.start(e),a.stop(e+c.decay)})),c.oscEnvelope.gain.setValueAtTime(1e-5*c.volume,e),c.oscEnvelope.gain.exponentialRampToValueAtTime(1*c.volume,e+.001*c.decay),c.oscEnvelope.gain.exponentialRampToValueAtTime(.3*c.volume,e+.002*c.decay),c.oscEnvelope.gain.exponentialRampToValueAtTime(1e-5*c.volume,e+c.decay))},this.context=t.rawContext,this.effects=a,this.ratios=[1,1.342,1.2312,1.6532,1.9523,2.1523],this.tone=n.tone,this.decay=n.decay,this.volume=n.volume},q=function(){function e(t,a,n){var c=this;Object(r.a)(this,e),this.trigger=function(e){c.volume&&(c.setup(),c.envelope.gain.setValueAtTime(c.volume,e),c.envelope.gain.exponentialRampToValueAtTime(.1,e+c.pulseWidth),c.envelope.gain.setValueAtTime(c.volume,e+c.pulseWidth),c.envelope.gain.exponentialRampToValueAtTime(.1,e+2*c.pulseWidth),c.envelope.gain.setValueAtTime(c.volume,e+2*c.pulseWidth),c.envelope.gain.exponentialRampToValueAtTime(.001,e+c.decay),c.noise.start(e),c.noise.stop(e+c.decay))},this.context=t.rawContext,this.effects=a,this.tone=n.tone,this.volume=n.volume,this.decay=n.decay,this.pulseWidth=.025}return Object(i.a)(e,[{key:"noiseBuffer",value:function(){for(var e=this.context.sampleRate,t=this.context.createBuffer(1,e,this.context.sampleRate),a=t.getChannelData(0),n=0;n<e;n++)a[n]=2*Math.random()-1;return t}},{key:"setup",value:function(){this.noise=this.context.createBufferSource(),this.noise.buffer=this.noiseBuffer(),this.filter=this.context.createBiquadFilter(),this.filter.type="bandpass",this.filter.frequency.value=2*this.tone,this.envelope=this.context.createGain(),this.noise.connect(this.filter),this.filter.connect(this.envelope),this.envelope.connect(this.effects)}}]),e}(),V=function(e){function t(e){var a;Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).pressStart=function(e){e.preventDefault(),document.getElementById("start-button").click(),document.getElementById("electron-aligner").removeEventListener("click",a.pressStart)},a.componentDidUpdate=function(e){var t=a.props,n=t.kick,c=t.snare,s=t.hat,o=t.clap;a.kick=new T(a.transport.context,a.effects,n),a.snare=new j(a.transport.context,a.effects,c),a.hat=new A(a.transport.context,a.effects,s),a.clap=new q(a.transport.context,a.effects,o)},a.repeat=function(e){a.kickSequence.steps[a.state.step]&&a.kick.trigger(e),a.snareSequence.steps[a.state.step]&&a.snare.trigger(e),a.hatSequence.steps[a.state.step]&&a.hat.trigger(e),a.clapSequence.steps[a.state.step]&&a.clap.trigger(e),a.setState((function(e){return{step:(e.step+1)%16}}))},a.updateSequence=function(e,t,n){switch(e){case"kick":a.kickSequence.steps[t]=n;break;case"snare":a.snareSequence.steps[t]=n;break;case"hat":a.hatSequence.steps[t]=n;break;case"clap":a.clapSequence.steps[t]=n;break;default:return}},a.warmUp=function(){a.setState({loading:!0}),setTimeout((function(){a.props.togglePlay(),setTimeout((function(){a.props.toggleMute(),a.props.togglePlay(),setTimeout((function(){a.setState({step:0}),setTimeout((function(){a.setState({loading:!1,loaded:!0})}),200)}),10)}),200)}),500)},a.bootUpSequencer=function(){var e=a.props,t=e.masterVolume,n=e.analyser;a.warmUp(),setTimeout((function(){t.connect(n)}),1e3)},a.getColor=function(){switch(a.props.colorScheme){case"future time":return"rgb(143, 97, 230)";case"sparks":return"rgb(231, 133, 41)";case"dokidoki":return"rgb(248, 103, 131)";case"free":return"rgb(71, 209, 222)";case"hxh":return"rgb(81, 145, 78)";default:return"rgb(143, 97, 230)"}},a.state={step:0,loaded:!1,loading:!1};var n=a.props,c=n.transport,s=n.effects,o=n.kick,i=n.snare,m=n.hat,p=n.clap;return a.transport=c,a.context=c.context,a.effects=s,a.kick=new T(a.context,a.effects,o),a.snare=new j(a.context,a.effects,i),a.hat=new A(a.context,a.effects,m),a.clap=new q(a.context,a.effects,p),a.kickSequence=new k,a.snareSequence=new k,a.hatSequence=new k,a.clapSequence=new k,c.scheduleRepeat(a.repeat,"16n"),document.addEventListener("keydown",(function(e){switch(e.keyCode){case 13:e.preventDefault(),a.setState({step:0});break;default:return}})),document.addEventListener("DOMContentLoaded",(function(){document.getElementById("electron-aligner").addEventListener("click",a.pressStart)})),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.colorScheme;return this.state.loaded||this.state.loading?this.state.loading?c.a.createElement("div",{className:"start-button-container"},c.a.createElement("div",{className:"loading-container"},c.a.createElement(S.a,{type:"bars",color:"".concat(this.getColor()),width:90,height:30})),c.a.createElement("div",{className:"click-catcher"})):c.a.createElement("div",{className:"step-sequencer"},c.a.createElement(N,{currentStep:this.state.step}),c.a.createElement(O,{steps:this.kickSequence.steps,sound:"kick",updateSequence:this.updateSequence,colorScheme:this.props.colorScheme}),c.a.createElement(O,{steps:this.snareSequence.steps,sound:"snare",updateSequence:this.updateSequence,colorScheme:this.props.colorScheme}),c.a.createElement(O,{steps:this.hatSequence.steps,sound:"hat",updateSequence:this.updateSequence,colorScheme:this.props.colorScheme}),c.a.createElement(O,{steps:this.clapSequence.steps,sound:"clap",updateSequence:this.updateSequence,colorScheme:this.props.colorScheme})):c.a.createElement("div",{className:"start-button-container"},c.a.createElement("button",{className:"start-button ".concat(e),id:"start-button",onClick:this.bootUpSequencer},"Start"),c.a.createElement("div",{className:"click-catcher"}))}}]),t}(c.a.Component),G=function(e){function t(e){var a;Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).togglePlay=function(){h.Transport.toggle(),a.setState((function(e){return{playing:!e.playing}}))},a.updateBpm=function(e){e.preventDefault();var t=e.target.value;t>0&&t<201&&(h.Transport.bpm.value=t,a.setState({bpm:e.target.value}))},a.updateBpmFromArrowKey=function(e){e>0&&e<201&&(h.Transport.bpm.value=e,a.setState({bpm:e}))},a.changeColorScheme=function(e){e.preventDefault(),a.setState({colorScheme:e.target.value})},a.updateSound=function(e,t,n){a.setState((function(a){var c=a[e];return c[t]="volume"===t||"decay"===t?n/100:n,Object(d.a)({},e,c)}))},a.changeMasterVolume=function(e){var t=e.currentTarget.value/100;a.setState({masterVolume:t}),a.masterVolume.gain.setValueAtTime(t,h.Transport.context.currentTime)},a.toggleMute=function(){var e=h.Transport.context.currentTime;if(a.state.masterVolume){var t=a.state.masterVolume;a.setState({prevVolume:t,masterVolume:0}),a.masterVolume.gain.setValueAtTime(0,e)}else{var n=a.state.prevVolume;a.setState({masterVolume:n}),a.masterVolume.gain.setValueAtTime(n,e)}},a.state={bpm:120,playing:!1,masterVolume:0,prevVolume:1,colorScheme:"--color--",kick:{volume:1,tone:150,decay:.5},snare:{volume:1,tone:100,decay:.2},hat:{volume:1,tone:130,decay:.5},clap:{volume:1,tone:600,decay:.3}};var n=h.Transport.context.rawContext;return a.effects=n.createGain(),a.masterVolume=n.createGain(),a.analyser=n.createAnalyser(),a.bitCrusher=new g.a.BitCrusher(4),a.bitCrusher.wet.value=0,a.chorus=new g.a.Chorus,a.chorus.wet.value=0,a.wah=new g.a.AutoWah,a.wah.wet.value=0,a.pingPong=new g.a.PingPongDelay,a.pingPong.wet.value=0,a.effects.connect(a.bitCrusher.input),a.bitCrusher.connect(a.chorus.input),a.chorus.connect(a.wah.input),a.wah.connect(a.pingPong.input),a.pingPong.connect(a.masterVolume),a.analyser.connect(n.destination),h.Transport.bpm.value=120,h.Transport.loop=!0,h.Transport.swing=0,h.Transport.loopEnd="1m",document.addEventListener("keydown",(function(e){switch(e.keyCode){case 32:if(e.preventDefault(),document.getElementById("start-button"))return;a.togglePlay();break;case 38:a.updateBpmFromArrowKey(a.state.bpm+1);break;case 40:a.updateBpmFromArrowKey(a.state.bpm-1);break;case 74:a.testSynth.triggerAttackRelease("C4","4n");break;default:return}})),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"drum-boy",id:"electron-aligner"},c.a.createElement("div",{className:"main"},c.a.createElement("div",{className:"top"},c.a.createElement(v,{bpm:this.state.bpm,playing:this.state.playing,togglePlay:this.togglePlay,updateBpm:this.updateBpm,changeColorScheme:this.changeColorScheme,colorScheme:this.state.colorScheme}),c.a.createElement(f,{context:h.Transport.context.rawContext,analyser:this.analyser,colorScheme:this.state.colorScheme}),c.a.createElement(y,{kick:this.state.kick,snare:this.state.snare,hat:this.state.hat,clap:this.state.clap,masterVolume:this.state.masterVolume,updateSound:this.updateSound,changeMasterVolume:this.changeMasterVolume,toggleMute:this.toggleMute,colorScheme:this.state.colorScheme})),c.a.createElement(E,{context:h.Transport.context.rawContext,effects:this.effects,bitCrusher:this.bitCrusher,wah:this.wah,pingPong:this.pingPong,chorus:this.chorus,colorScheme:this.state.colorScheme})),c.a.createElement(V,{transport:h.Transport,effects:this.effects,kick:this.state.kick,snare:this.state.snare,hat:this.state.hat,clap:this.state.clap,masterVolume:this.masterVolume,analyser:this.analyser,togglePlay:this.togglePlay,toggleMute:this.toggleMute,colorScheme:this.state.colorScheme}))}}]),t}(c.a.Component),P=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"instructions-background",onClick:this.props.toggleInstructions},c.a.createElement("div",{className:"instructions"},c.a.createElement("button",null,c.a.createElement("i",{className:"fas fa-times"})),c.a.createElement("h2",{className:"instructions-header"},"Instructions"),c.a.createElement("ul",{className:"bullet-points"},c.a.createElement("li",null,"Click the buttons in the grid to activate steps in the sequencer"),c.a.createElement("li",null,"Press the Space Bar or Play Button to play and pause your sequence"),c.a.createElement("li",null,"Press Enter to jump to the beginning of the sequence"),c.a.createElement("li",null,"Use the up and down arrow keys to adjust the tempo"),c.a.createElement("li",null,"Adjust the sliders in the top right to change the sounds live"),c.a.createElement("li",null,"Activate the wildcard buttons in the middle row for unexpected effects"))))}}]),t}(c.a.Component),B=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).toggleInstructions=function(){a.setState((function(e){return{instructions:!e.instructions}}))},a.state={instructions:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("main",null,c.a.createElement("button",{className:"instruction-button",onClick:this.toggleInstructions},c.a.createElement("i",{className:"fas fa-bars fa-2x"})),this.state.instructions&&c.a.createElement(P,{toggleInstructions:this.toggleInstructions}),c.a.createElement(p,null),c.a.createElement(G,null),c.a.createElement("div",{className:"mobile"},c.a.createElement("h2",{className:"mobile-header"},"Electron Aligner"),c.a.createElement("p",null,"Mobile version coming soon...")))}}]),t}(c.a.Component);var I=function(){return c.a.createElement(B,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[12,1,2]]]);
//# sourceMappingURL=main.31dcbda3.chunk.js.map