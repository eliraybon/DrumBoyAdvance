{"version":3,"sources":["components/Samples.jsx","components/Main/LogoAndButtons.jsx","components/Main/Oscilloscope.jsx","components/Main/SoundControls.jsx","components/Main/Wildcards.jsx","util/Sequence.js","components/Sequencer/StepBarLight.jsx","components/Sequencer/StepBar.jsx","components/Sequencer/Step.jsx","components/Sequencer/Row.jsx","synthesis/Kick.js","synthesis/Snare.js","synthesis/Hat.js","synthesis/Clap.js","components/Sequencer/StepSequencer.jsx","components/DrumBoy.jsx","components/Instructions.jsx","components/Container.jsx","App.js","serviceWorker.js","index.js"],"names":["Samples","className","id","src","autoPlay","loop","React","Component","LogoAndButtons","color","this","props","colorScheme","onClick","togglePlay","playing","bpm","value","onChange","e","changeColorScheme","disabled","Oscilloscope","visualize","cancelAnimationFrame","animation","canvasCtx","clearRect","WIDTH","HEIGHT","state","mode","drawOsc","drawBars","getColor","analyser","fftSize","bufferLength","dataArray","Uint8Array","requestAnimationFrame","getByteTimeDomainData","fillStyle","fillRect","lineWidth","strokeStyle","beginPath","sliceWidth","x","i","y","moveTo","lineTo","canvas","width","height","stroke","bufferLengthAlt","frequencyBinCount","dataArrayAlt","getByteFrequencyData","barHeight","barWidth","toggleMode","preventDefault","setState","document","addEventListener","querySelector","getContext","alt","SoundControls","updateSound","sound","setting","parseInt","currentTarget","toggleMute","muted","keyCode","type","masterVolume","min","max","changeMasterVolume","kick","volume","tone","decay","snare","hat","clap","Wildcards","toggleBitCrusher","bitCrusher","wet","toggleChorus","chorus","toggleWah","wah","togglePingPong","pingPong","toggleRain","rain","paused","play","pause","toggleScience","science","toggleSynth","synth","toggleSubway","subway","toggleVinyl","vinyl","playDracula","dracula","setTimeout","triggerMeow","cat","tryAgain","robot","context","effects","getElementById","rainCtx","createMediaElementSource","rainGain","createGain","connect","draculaCtx","draculaGain","catCtx","catGain","robotCtx","robotGain","scienceCtx","scienceGain","synthCtx","synthGain","subwayCtx","subwayGain","vinylCtx","vinylGain","key","Sequence","steps","StepBarLight","activeLight","step","currentStep","StepBar","Array","keys","map","num","Step","toggleSelect","stepNumber","selected","updateSequence","Row","Kick","setup","osc","createOscillator","gain","trigger","time","frequency","setValueAtTime","exponentialRampToValueAtTime","linearRampToValueAtTime","start","stop","rawContext","Snare","noiseBuffer","bufferSize","sampleRate","buffer","createBuffer","output","getChannelData","Math","random","noise","createBufferSource","noiseFilter","createBiquadFilter","noiseEnvelope","oscEnvelope","Hat","bndPass","Q","hipass","ratios","forEach","ratio","Clap","envelope","pulseWidth","filter","StepSequeuncer","pressStart","click","removeEventListener","componentDidUpdate","prevProps","transport","repeat","kickSequence","snareSequence","hatSequence","clapSequence","warmUp","loading","loaded","bootUpSequencer","scheduleRepeat","DrumBoy","Transport","toggle","updateBpm","target","updateBpmFromArrowKey","updatedSound","currentTime","prevVolume","createAnalyser","Tone","BitCrusher","Chorus","AutoWah","PingPongDelay","input","destination","swing","loopEnd","testSynth","triggerAttackRelease","Instructions","toggleInstructions","Container","instructions","App","Boolean","window","location","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.31dcbda3.chunk.js","sourcesContent":["import React from 'react';\n\nexport default class Samples extends React.Component {\n  render() {\n    return (\n      <div className=\"samples\">\n        <audio id=\"rain\" src=\"/ElectronAligner/assets/sounds/rain.mp3\" autoPlay={false} loop></audio>\n        <audio id=\"science\" src=\"/ElectronAligner/assets/sounds/science.mp3\" autoPlay={false} loop></audio>\n        <audio id=\"subway\" src=\"/ElectronAligner/assets/sounds/subway.mp3\" autoPlay={false} loop></audio>\n        <audio id=\"synth\" src=\"/ElectronAligner/assets/sounds/synth.mp3\" autoPlay={false} loop></audio>\n        <audio id=\"vinyl\" src=\"/ElectronAligner/assets/sounds/vinyl.mp3\" autoPlay={false} loop></audio>\n        <audio id=\"cat\" src=\"/ElectronAligner/assets/sounds/cat.mp3\" autoPlay={false}></audio>\n        <audio id=\"robot\" src=\"/ElectronAligner/assets/sounds/robot.mp3\" autoPlay={false}></audio>\n        <audio id=\"dracula\" src=\"/ElectronAligner/assets/sounds/dracula.mp3\" autoPlay={false}></audio>\n      </div>\n    )\n  }\n}","import React from 'react';\n\nexport default class LogoAndButtons extends React.Component {\n  render() {\n    const color = this.props.colorScheme;\n\n    return (\n      <div className={`logo-and-buttons ${color}`}>\n        <div className=\"logo\">\n          <h1 className=\"main-heading\">Electron Aligner</h1>\n        </div>\n\n        <div className=\"buttons\">\n          <div \n            className=\"play-button\"\n            onClick={this.props.togglePlay}\n          >\n            {this.props.playing && (\n              <i className=\"fas fa-pause\"></i>\n            )}\n\n            {!this.props.playing && (\n              <i className=\"fas fa-play\"></i>\n            )}\n          </div>\n\n          <div className=\"bpm-select\">\n            {this.props.bpm}\n          </div>\n        </div>\n\n        <select\n          className=\"color-select\"\n          value={this.props.colorScheme}\n          onChange={e => this.props.changeColorScheme(e)}\n        >\n          <option\n            className=\"color-option\"\n            value=\"--color--\"\n            disabled\n          >\n            --color--\n          </option>\n          <option className=\"color-option\" value=\"future time\">Future Time</option>\n          <option className=\"color-option\" value=\"sparks\">Sparks</option>\n          <option className=\"color-option\" value=\"dokidoki\">Doki doki</option>\n          <option className=\"color-option\" value=\"free\">Free</option>\n          <option className=\"color-option\" value=\"hxh\">HxH</option>\n        </select>\n      </div>\n    )\n  }\n}","import React from 'react';\n\nexport default class Oscilloscope extends React.Component {\n  constructor(props) {\n    super(props);\n    const { analyser } = this.props;\n    this.state = {\n      mode: 'osc' //two modes: 'osc' and 'bar'\n    };\n\n    this.animation = null;\n\n    document.addEventListener(\"DOMContentLoaded\", () => {\n      this.canvas = document.querySelector('.osc-canvas');\n      this.canvasCtx = this.canvas.getContext(\"2d\");\n      this.WIDTH = this.canvas.width;\n      this.HEIGHT = this.canvas.height;\n\n      this.analyser =  analyser;\n\n      // navigator.mediaDevices.getUserMedia({ audio: true })\n      //   .then(stream => {\n      //     const source = context.createMediaStreamSource(stream);\n      //     source.connect(this.analyser);\n      // })\n\n      this.visualize();\n    })\n  }\n\n  componentDidUpdate() {\n    this.visualize();\n  }\n\n\n  visualize = () => {\n    cancelAnimationFrame(this.animation);\n    this.canvasCtx.clearRect(0, 0, this.WIDTH, this.HEIGHT);\n    (this.state.mode === 'osc') ? this.drawOsc() : this.drawBars();\n  }\n\n  getColor = () => {\n    switch (this.props.colorScheme) {\n      case \"future time\":\n        return \"rgb(143, 97, 230)\";\n      case \"sparks\":\n        return \"rgb(231, 133, 41)\";\n      case \"dokidoki\":\n        return \"rgb(248, 103, 131)\";\n      case \"free\":\n        return \"rgb(71, 209, 222)\";\n      case \"hxh\":\n        return \"rgb(81, 145, 78)\";\n      default:\n        return \"rgb(143, 97, 230)\";\n    }\n  }\n\n\n  drawOsc = () => {\n\n\n    this.analyser.fftSize = 2048;\n    let bufferLength = this.analyser.fftSize;\n    const dataArray = new Uint8Array(bufferLength);\n    this.animation = requestAnimationFrame(this.drawOsc);\n\n    this.analyser.getByteTimeDomainData(dataArray);\n    this.canvasCtx.fillStyle = 'rgb(0, 0, 0)';//'rgb(256, 256, 256)';//'rgb(200, 200, 200)';\n    this.canvasCtx.fillRect(0, 0, this.WIDTH, this.HEIGHT);\n\n    this.canvasCtx.lineWidth = 2;\n    this.canvasCtx.strokeStyle = `${this.getColor()}`; //'rgb(0, 0, 0)';\n\n    this.canvasCtx.beginPath();\n\n    let sliceWidth = this.WIDTH * 1.0 / bufferLength;\n    let x = 0;\n\n    for (let i = 0; i < bufferLength; i++) {\n\n      let v = dataArray[i] / 128.0;\n      let y = v * this.HEIGHT / 2;\n\n      if (i === 0) {\n        this.canvasCtx.moveTo(x, y);\n      } else {\n        this.canvasCtx.lineTo(x, y);\n      }\n\n      x += sliceWidth;\n    }\n\n    this.canvasCtx.lineTo(this.canvas.width, this.canvas.height / 2);\n    this.canvasCtx.stroke();\n  }\n\n  drawBars = () => {\n    this.analyser.fftSize = 256;\n    let bufferLengthAlt = this.analyser.frequencyBinCount;\n    const dataArrayAlt = new Uint8Array(bufferLengthAlt);\n\n    this.animation = requestAnimationFrame(this.drawBars);\n\n    this.analyser.getByteFrequencyData(dataArrayAlt);\n\n    this.canvasCtx.fillStyle = 'rgb(0, 0, 0)';\n    this.canvasCtx.fillRect(0, 0, this.WIDTH, this.HEIGHT);\n\n    let barWidth = (this.WIDTH / bufferLengthAlt) * 2.5;\n    let barHeight;\n    let x = 0;\n\n    for (let i = 0; i < bufferLengthAlt; i++) {\n      barHeight = dataArrayAlt[i];\n\n      this.canvasCtx.fillStyle = `${this.getColor()}`//'rgb(' + (barHeight + 50) + ',97,230)';//'rgb(' + (barHeight + 100) + ',50,50)';\n      this.canvasCtx.fillRect(x, this.HEIGHT - barHeight / 2, barWidth, barHeight / 2);\n\n      x += barWidth + 1;\n    }\n  }\n\n  toggleMode = e => {\n    e.preventDefault();\n    if (this.state.mode === 'osc') {\n      this.setState({ mode: 'bar' });\n    } else {\n      this.setState({ mode: 'osc' });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"oscilloscope\">\n        <button className=\"visual-select\" onClick={this.toggleMode}>\n          <img\n            className=\"wildcard-image\"\n            src=\"/ElectronAligner/assets/images/waveform-path-solid.svg\"\n            alt=\"\"\n          />\n        </button>\n        <canvas className=\"osc-canvas\" />\n      </div>\n    )\n  }\n}\n","import React from 'react';\n\nexport default class SoundControls extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      muted: false\n    };\n\n    document.addEventListener('keydown', e => {\n      switch (e.keyCode) {\n        case 77:\n          this.props.toggleMute();\n          break;\n        default:\n          return;\n      }\n    })\n  }\n\n  updateSound = (e, sound, setting) => {\n    const value = parseInt(e.currentTarget.value);\n    this.props.updateSound(sound, setting, value);\n  }\n\n  toggleMute = () => {\n    this.setState(state => ({ muted: !state.muted }));\n    this.props.toggleMute();\n  }\n\n  render() {\n    const color = this.props.colorScheme;\n\n    return (\n      <div className={`sound-controls ${color}`}>\n        <input\n          className={`master-volume ${color}`}\n          type=\"range\"\n          value={this.props.masterVolume * 100}\n          min={0}\n          max={100}\n          onChange={this.props.changeMasterVolume}\n        />\n\n        <button\n          className=\"mute-button\"\n          onClick={this.toggleMute}\n        >\n          {this.state.muted && (\n            <img\n              className=\"wildcard-image\"\n              src=\"/ElectronAligner/assets/images/volume-mute-solid.svg\"\n              alt=\"\"\n            />\n          )}\n\n          {!this.state.muted && (\n            <img\n              className=\"wildcard-image\"\n              src=\"/ElectronAligner/assets/images/volume-up-solid.svg\"\n              alt=\"\"\n            />\n          )}\n        </button>\n\n        <div className=\"sc-left\">\n          <div className=\"kick-controls\">\n            <h3 className=\"sound-label\">Kick</h3>\n\n            <input\n              className={`${color}`}\n              type=\"range\"\n              min={0}\n              max={100}\n              value={this.props.kick.volume * 100}\n              onChange={e => this.updateSound(e, 'kick', 'volume')}\n            />\n\n            <input\n              className={`${color}`}\n              type=\"range\"\n              min={100}\n              max={350}\n              value={this.props.kick.tone}\n              onChange={e => this.updateSound(e, 'kick', 'tone')}\n            />\n\n            <input\n              className={`${color}`}\n              type=\"range\"\n              min={0}\n              max={200}\n              value={this.props.kick.decay * 100}\n              onChange={e => this.updateSound(e, 'kick', 'decay')}\n            />\n          </div>\n\n          <div className=\"snare-controls\">\n            <h3 className=\"sound-label\">Snare</h3>\n\n            <input\n              className={`${color}`}\n              type=\"range\"\n              min={0}\n              max={100}\n              value={this.props.snare.volume * 100}\n              onChange={e => this.updateSound(e, 'snare', 'volume')}\n            />\n\n            <input\n              className={`${color}`}\n              type=\"range\"\n              min={20}\n              max={300}\n              value={this.props.snare.tone}\n              onChange={e => this.updateSound(e, 'snare', 'tone')}\n            />\n\n            <input\n              className={`${color}`}\n              type=\"range\"\n              min={0}\n              max={75}\n              value={this.props.snare.decay * 100}\n              onChange={e => this.updateSound(e, 'snare', 'decay')}\n            />\n          </div>\n        </div>\n\n        <div className=\"sc-middle\">\n          <div className=\"setting-labels\">\n           <p>Volume</p>\n           <p>Tone</p>\n           <p>Decay</p>\n          </div>\n\n          <div className=\"setting-labels\">\n            <p>Volume</p>\n            <p>Tone</p>\n            <p>Decay</p>\n          </div>\n        </div>\n\n        <div className=\"sc-right\">\n          <div className=\"hat-controls\">\n            <h3 className=\"sound-label\">Hat</h3>\n\n            <input\n              className={`${color}`}\n              type=\"range\"\n              min={0}\n              max={100}\n              value={this.props.hat.volume * 100}\n              onChange={e => this.updateSound(e, 'hat', 'volume')}\n            />\n\n            <input\n              className={`${color}`}\n              type=\"range\"\n              min={100}\n              max={350}\n              value={this.props.hat.tone}\n              onChange={e => this.updateSound(e, 'hat', 'tone')}\n            />\n\n            <input\n              className={`${color}`}\n              type=\"range\"\n              min={0}\n              max={200}\n              value={this.props.hat.decay * 100}\n              onChange={e => this.updateSound(e, 'hat', 'decay')}\n            />\n          </div>\n\n          <div className=\"clap-controls\">\n            <h3 className=\"sound-label\">Clap</h3>\n\n            <input\n              className={`${color}`}\n              type=\"range\"\n              min={0}\n              max={100}\n              value={this.props.clap.volume * 100}\n              onChange={e => this.updateSound(e, 'clap', 'volume')}\n            />\n\n            <input\n              className={`${color}`}\n              type=\"range\"\n              min={300}\n              max={1000}\n              value={this.props.clap.tone}\n              onChange={e => this.updateSound(e, 'clap', 'tone')}\n            />\n\n            <input\n              className={`${color}`}\n              type=\"range\"\n              min={0}\n              max={75}\n              value={this.props.clap.decay * 100}\n              onChange={e => this.updateSound(e, 'clap', 'decay')}\n            />\n          </div>\n        </div>\n      </div>\n    )\n  }\n}","import React from 'react';\n\nexport default class Wildcards extends React.Component {\n  constructor(props) {\n    super(props);\n    const { context, effects } = this.props;\n    this.state = {\n      rain: false, \n      dracula: false, \n      cat: false, \n      robot: false, \n      bitCrusher: false, \n      chorus: false, \n      wah: false,\n      pingPong: false,\n      science: false,\n      synth: false,\n      subway: false,\n      vinyl: false\n    };\n\n    document.addEventListener(\"DOMContentLoaded\", () => {\n      //rain\n      this.rain = document.getElementById('rain');\n      const rainCtx = context.createMediaElementSource(this.rain);\n      this.rainGain = context.createGain();\n      rainCtx.connect(this.rainGain);\n      this.rainGain.connect(effects);\n\n      //dracula \n      this.dracula = document.getElementById('dracula');\n      const draculaCtx = context.createMediaElementSource(this.dracula);\n      this.draculaGain = context.createGain();\n      draculaCtx.connect(this.draculaGain);\n      this.draculaGain.connect(effects);\n\n      //cat\n      this.cat = document.getElementById('cat');\n      const catCtx = context.createMediaElementSource(this.cat);\n      this.catGain = context.createGain();\n      catCtx.connect(this.catGain);\n      this.catGain.connect(effects);\n\n      //robot \n      this.robot = document.getElementById('robot');\n      const robotCtx = context.createMediaElementSource(this.robot);\n      this.robotGain = context.createGain();\n      robotCtx.connect(this.robotGain);\n      this.robotGain.connect(effects);\n\n      //science\n      this.science = document.getElementById('science');\n      const scienceCtx = context.createMediaElementSource(this.science);\n      this.scienceGain = context.createGain();\n      scienceCtx.connect(this.scienceGain);\n      this.scienceGain.connect(effects);\n\n      //synth\n      this.synth = document.getElementById('synth');\n      const synthCtx = context.createMediaElementSource(this.synth);\n      this.synthGain = context.createGain();\n      synthCtx.connect(this.synthGain);\n      this.synthGain.connect(effects);\n\n      //subway\n      this.subway = document.getElementById('subway');\n      const subwayCtx = context.createMediaElementSource(this.subway);\n      this.subwayGain = context.createGain();\n      subwayCtx.connect(this.subwayGain);\n      this.subwayGain.connect(effects);\n\n      //vinyl\n      this.vinyl = document.getElementById('vinyl');\n      const vinylCtx = context.createMediaElementSource(this.vinyl);\n      this.vinylGain = context.createGain();\n      vinylCtx.connect(this.vinylGain);\n      this.vinylGain.connect(effects);\n    })\n  }\n\n  toggleBitCrusher = () => {\n    const { bitCrusher } = this.props;\n    this.setState(state => ({ bitCrusher: !state.bitCrusher }));\n    if (bitCrusher.wet.value === 0) {\n      bitCrusher.wet.value = 1;\n    } else {\n      bitCrusher.wet.value = 0;\n    }\n  }\n\n  toggleChorus = () => {\n    const { chorus } = this.props;\n    this.setState(state => ({ chorus: !state.chorus }));\n    if (chorus.wet.value === 0) {\n      chorus.wet.value = 1;\n    } else {\n      chorus.wet.value = 0;\n    }\n  }\n\n  toggleWah = () => {\n    const { wah } = this.props;\n    this.setState(state => ({ wah: !state.wah }));\n    if (wah.wet.value === 0) {\n      wah.wet.value = 1;\n    } else {\n      wah.wet.value = 0;\n    }\n  }\n\n  togglePingPong = () => {\n    const { pingPong } = this.props;\n    this.setState(state => ({ pingPong: !state.pingPong }));\n    (pingPong.wet.value === 0) ? pingPong.wet.value = 0.5 : pingPong.wet.value = 0;\n  }\n\n  toggleRain = () => {\n    this.setState(state => ({ rain: !state.rain }));\n    (this.rain.paused) ? this.rain.play() : this.rain.pause();\n  }\n\n  toggleScience = () => {\n    this.setState(state => ({ science: !state.science }));\n    (this.science.paused) ? this.science.play() : this.science.pause();\n  }\n\n  toggleSynth = () => {\n    this.setState(state => ({ synth: !state.synth }));\n    (this.synth.paused) ? this.synth.play() : this.synth.pause();\n  }\n\n  toggleSubway = () => {\n    this.setState(state => ({ subway: !state.subway }));\n    (this.subway.paused) ? this.subway.play() : this.subway.pause();\n  }\n\n  toggleVinyl= () => {\n    this.setState(state => ({ vinyl: !state.vinyl }));\n    (this.vinyl.paused) ? this.vinyl.play() : this.vinyl.pause();\n  }\n\n  playDracula = () => {\n    if (!this.dracula.paused) return;\n    this.setState({ dracula: true });\n    this.dracula.play();\n    setTimeout(() => {\n      this.setState({ dracula: false });\n    }, 5500);\n  }\n\n  triggerMeow = () => {\n    if (!this.cat.paused) return;\n    this.setState({ cat: true });\n    this.cat.play();\n    setTimeout(() => {\n      this.setState({ cat: false });\n    }, 1000);\n  }\n\n  tryAgain = () => {\n    if (!this.robot.paused) return;\n    this.setState({ robot: true });\n    this.robot.play();\n    setTimeout(() => {\n      this.setState({ robot: false });\n    }, 2000);\n  }\n\n  render() {\n    const color = this.props.colorScheme;\n\n    const bitCrusher = (this.state.bitCrusher) ? \"active-effect\" : \"\";\n    const rain = (this.state.rain) ? \"active-effect\" : \"\";\n    const chorus = (this.state.chorus) ? \"active-effect\" : \"\";\n    const wah = (this.state.wah) ? \"active-effect\" : \"\";\n    const pingPong = (this.state.pingPong) ? \"active-effect\" : \"\";\n    const dracula = (this.state.dracula) ? \"active-effect\" : \"\";\n    const cat = (this.state.cat) ? \"active-effect\" : \"\";\n    const robot = (this.state.robot) ? \"active-effect\" : \"\";\n    const science = (this.state.science) ? \"active-effect\" : \"\";\n    const synth = (this.state.synth) ? \"active-effect\" : \"\";\n    const subway = (this.state.subway) ? \"active-effect\" : \"\";\n    const vinyl = (this.state.vinyl) ? \"active-effect\" : \"\";\n\n    return (\n      <ul className={`wildcards ${color}`}>\n        <li\n          className={`wildcard ${color} ${rain}`}\n          onClick={this.toggleRain}\n          key=\"rain\"\n        >\n          <img\n            className=\"wildcard-image\"\n            src=\"/ElectronAligner/assets/images/raindrops-solid.svg\"\n            alt=\"\"\n          />\n        </li>\n\n        <li\n          className={`wildcard ${color} ${dracula}`}\n          onClick={this.playDracula}\n          key=\"dracula\"\n        >\n          <img\n            className=\"wildcard-image\"\n            src=\"/ElectronAligner/assets/images/bat-solid.svg\"\n            alt=\"\"\n          />\n        </li>\n\n        <li\n          className={`wildcard ${color} ${cat}`}\n          onClick={this.triggerMeow}\n          key=\"cat\"\n        >\n          <img\n            className=\"wildcard-image\"\n            src=\"/ElectronAligner/assets/images/cat-solid.svg\"\n            alt=\"\"\n          />\n        </li>\n\n        <li\n          className={`wildcard ${color} ${robot}`}\n          onClick={this.tryAgain}\n          key=\"robot\"\n        >\n          <img\n            className=\"wildcard-image\"\n            src=\"/ElectronAligner/assets/images/robot-solid.svg\"\n            alt=\"\"\n          />\n        </li>\n\n        <li\n          className={`wildcard ${color} ${science}`}\n          onClick={this.toggleScience}\n          key=\"science\"\n        >\n          <img\n            className=\"wildcard-image\"\n            src=\"/ElectronAligner/assets/images/flask-solid.svg\"\n            alt=\"\"\n          />\n        </li>\n\n        <li\n          className={`wildcard ${color} ${synth}`}\n          onClick={this.toggleSynth}\n          key=\"synth\"\n        >\n          <img\n            className=\"wildcard-image\"\n            src=\"/ElectronAligner/assets/images/piano-keyboard-solid.svg\"\n            alt=\"\"\n          />\n        </li>\n\n        <li\n          className={`wildcard ${color} ${subway}`}\n          onClick={this.toggleSubway}\n          key=\"subway\"\n        >\n          <img\n            className=\"wildcard-image\"\n            src=\"/ElectronAligner/assets/images/subway-solid.svg\"\n            alt=\"\"\n          />\n        </li>\n\n        <li\n          className={`wildcard ${color} ${vinyl}`}\n          onClick={this.toggleVinyl}\n          key=\"vinyl\"\n        >\n          <img\n            className=\"wildcard-image\"\n            src=\"/ElectronAligner/assets/images/turntable-solid.svg\"\n            alt=\"\"\n          />\n        </li>\n\n        <li\n          className={`wildcard ${color} ${bitCrusher}`}\n          onClick={this.toggleBitCrusher}\n          key=\"donotpress\"\n        >\n          <img\n            className=\"wildcard-image\"\n            src=\"/ElectronAligner/assets/images/bomb-solid.svg\"\n            alt=\"\"\n          />\n        </li>\n\n        <li\n          className={`wildcard ${color} ${chorus}`}\n          onClick={this.toggleChorus}\n          key=\"chorus\"\n        >\n          <img\n            className=\"wildcard-image\"\n            src=\"/ElectronAligner/assets/images/cassette-tape-solid.svg\"\n            alt=\"\"\n          />\n        </li>\n\n        <li\n          className={`wildcard ${color} ${wah}`}\n          onClick={this.toggleWah}\n          key=\"wah\"\n        >\n          <img\n            className=\"wildcard-image\"\n            src=\"/ElectronAligner/assets/images/wave-sine-solid.svg\"\n            alt=\"\"\n          />\n        </li>\n\n        <li\n          className={`wildcard ${color} ${pingPong}`}\n          onClick={this.togglePingPong}\n          key=\"pong\"\n        >\n          <img\n            className=\"wildcard-image\"\n            src=\"/ElectronAligner/assets/images/table-tennis-solid.svg\"\n            alt=\"\"\n          />\n        </li>\n\n\n      </ul>\n    )\n  }\n}","export default class Sequence {\n  constructor() {\n    this.steps = [\n      false, false, false, false,\n      false, false, false, false,\n      false, false, false, false,\n      false, false, false, false\n    ]\n  }\n}","import React from 'react';\n\nexport default class StepBarLight extends React.Component {\n  render() {\n    const { step, currentStep } = this.props;\n    const activeLight = (step === currentStep) ? \"active-light\" : \"\";\n    return <li className={`step-bar-light ${activeLight}`}></li>\n  }\n}","import React from 'react';\nimport StepBarLight from './StepBarLight';\n\nexport default class StepBar extends React.Component {\n  render() {\n    return (\n      <ul className=\"step-bar\">\n        {[...Array(16).keys()].map(num => {\n          return (\n            <StepBarLight \n              step={num} \n              currentStep={this.props.currentStep} \n              key={num}\n            />\n          )\n        })}\n      </ul>\n    )\n  }\n}","import React from 'react';\n\nexport default class Step extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selected: props.step\n    };\n  }\n\n  toggleSelect = () => {\n    const { sound, stepNumber } = this.props;\n    this.setState(state => {\n      return { selected: !state.selected }\n    });\n    this.props.updateSequence(sound, stepNumber, !this.state.selected);\n  }\n\n  render() {\n    let selected = (this.state.selected) ? \"selected\" : \"\";\n    const color = this.props.colorScheme;\n\n    return (\n      <li\n        className={`step ${selected} ${color}`}\n        onClick={this.toggleSelect}\n      >\n      </li>\n    )\n  }\n}","import React from 'react';\nimport Step from './Step';\n\nexport default class Row extends React.Component {\n\n  render() {\n    return (\n      <div className=\"row-container\">\n        <p className=\"track-label\">{this.props.sound}</p>\n        <ul className=\"row\">\n          {this.props.steps.map((step, i) => {\n            return (\n              <Step\n                step={step}\n                sound={this.props.sound}\n                stepNumber={i}\n                updateSequence={this.props.updateSequence}\n                colorScheme={this.props.colorScheme}\n                key={i}\n              />\n            )\n          })}\n        </ul>\n      </div>\n    )\n  }\n}","export default class Kick {\n  constructor(context, effects, sound) {\n    this.context = context.rawContext;\n    this.effects = effects;\n\n    this.tone = sound.tone;\n    this.volume = sound.volume;\n    this.decay = sound.decay;\n  }\n\n  setup = () => {\n    this.osc = this.context.createOscillator();\n    this.gain = this.context.createGain();\n    this.osc.connect(this.gain);\n    this.gain.connect(this.effects);\n    // this.gain.connect(this.context.destination)\n  }\n\n  trigger = time => {\n    if (!this.volume) return;\n    this.setup();\n\n    this.osc.frequency.setValueAtTime(this.tone, time + 0.001);\n    this.gain.gain.setValueAtTime(this.volume, time);\n\n    this.osc.frequency.exponentialRampToValueAtTime(0.01, time + this.decay);\n    this.gain.gain.exponentialRampToValueAtTime(0.01, time + this.decay);\n    this.gain.gain.linearRampToValueAtTime(0, time + this.decay + 0.1)\n\n    this.osc.start(time);\n\n    this.osc.stop(time + this.decay + 0.1);\n  }\n}","export default class Snare {\n  constructor(context, effects, sound) {\n    this.context = context.rawContext;\n    this.effects = effects;\n\n    this.tone = sound.tone;\n    this.volume = sound.volume;\n    this.decay = sound.decay;\n  }\n\n  noiseBuffer = () => {\n    const bufferSize = this.context.sampleRate;\n    const buffer = this.context.createBuffer(1, bufferSize, this.context.sampleRate);\n    const output = buffer.getChannelData(0);\n    for (var i = 0; i < bufferSize; i++) {\n      output[i] = Math.random() * 2 - 1;\n    }\n\n    return buffer;\n  }\n\n  setup = () => {\n    this.noise = this.context.createBufferSource();\n    this.noise.buffer = this.noiseBuffer();\n    var noiseFilter = this.context.createBiquadFilter();\n    noiseFilter.type = 'highpass';\n    noiseFilter.frequency.value = 1000;\n    this.noise.connect(noiseFilter);\n    this.noiseEnvelope = this.context.createGain();\n    noiseFilter.connect(this.noiseEnvelope);\n    this.noiseEnvelope.connect(this.effects);\n    // this.noiseEnvelope.connect(this.context.destination);\n    this.osc = this.context.createOscillator();\n    this.osc.type = 'triangle';\n    this.oscEnvelope = this.context.createGain();\n    this.osc.connect(this.oscEnvelope);\n    this.oscEnvelope.connect(this.effects);\n    // this.oscEnvelope.connect(this.context.destination);\n  }\n\n  trigger = time => {\n    if (!this.volume) return;\n    this.setup();\n\n    this.noiseEnvelope.gain.setValueAtTime(this.volume, time);\n    this.noiseEnvelope.gain.exponentialRampToValueAtTime(0.01, time + this.decay);\n    this.noise.start(time)\n\n    this.osc.frequency.setValueAtTime(this.tone, time);\n    //still makes noise when no volume\n    if (this.volume >= 0.7) {\n      this.oscEnvelope.gain.setValueAtTime(0.5, time);\n    } else {\n      this.oscEnvelope.gain.setValueAtTime(this.volume, time);\n    }\n    this.oscEnvelope.gain.exponentialRampToValueAtTime(0.01, time + 0.1);\n    this.osc.start(time)\n\n    //still decays when no decay \n    if (this.decay >= 0.2) {\n      this.osc.stop(time + 0.2);\n    } else {\n      this.osc.stop(time + this.decay);\n    }\n  \n    this.noise.stop(time + this.decay);\n  }\n}","export default class Hat {\n  constructor(context, effects, sound) {\n    this.context = context.rawContext;\n    this.effects = effects;\n    //ratios can be tweaked - experiment with the sound\n    this.ratios = [1, 1.3420, 1.2312, 1.6532, 1.9523, 2.1523];\n    this.tone = sound.tone;\n    this.decay = sound.decay;\n    this.volume = sound.volume;\n  }\n\n  setup = () => {\n    this.oscEnvelope = this.context.createGain();\n    this.bndPass = this.context.createBiquadFilter();\n    this.bndPass.type = 'bandpass';\n    this.bndPass.frequency.value = 20000;\n    this.bndPass.Q.value = 0.2;\n    this.hipass = this.context.createBiquadFilter();\n    this.hipass.type = \"highpass\";\n    this.hipass.frequency.value = 5000;\n\n    this.bndPass.connect(this.hipass);\n    this.hipass.connect(this.oscEnvelope);\n    this.oscEnvelope.connect(this.effects);\n    // this.oscEnvelope.connect(this.context.destination);\n  }\n\n  trigger = time => {\n    if (this.volume === 0) return ;\n    this.setup();\n    this.ratios.forEach((ratio) => {\n      const osc = this.context.createOscillator();\n      osc.type = \"square\";\n      osc.frequency.value = this.tone * ratio;\n      osc.connect(this.bndPass);\n      osc.start(time);\n      osc.stop(time + this.decay);\n    });\n    this.oscEnvelope.gain.setValueAtTime(0.00001 * this.volume, time);\n    this.oscEnvelope.gain.exponentialRampToValueAtTime(1 * this.volume, time + 0.001 * this.decay);\n    this.oscEnvelope.gain.exponentialRampToValueAtTime(0.3 * this.volume, time + 0.002 * this.decay);\n\n    //reverse sound vv\n    // this.oscEnvelope.gain.exponentialRampToValueAtTime(1 * this.volume, time + 1 * this.decay);\n    // this.oscEnvelope.gain.exponentialRampToValueAtTime(0.3 * this.volume, time + 1.2 * this.decay);\n    this.oscEnvelope.gain.exponentialRampToValueAtTime(0.00001 * this.volume, time + this.decay);\n  }\n}","export default class Clap {\n  constructor(context, effects, sound) {\n    this.context = context.rawContext;\n    this.effects = effects;\n\n    this.tone = sound.tone;\n    this.volume = sound.volume;\n    this.decay = sound.decay;\n    this.pulseWidth = 0.025;\n  }\n\n  noiseBuffer() {\n    const bufferSize = this.context.sampleRate;\n    const buffer = this.context.createBuffer(1, bufferSize, this.context.sampleRate);\n    const output = buffer.getChannelData(0);\n\n    for (let i = 0; i < bufferSize; i++) {\n      output[i] = Math.random() * 2 - 1;\n    }\n    return buffer;\n  }\n\n  setup() {\n    this.noise = this.context.createBufferSource();\n    this.noise.buffer = this.noiseBuffer();\n    this.filter = this.context.createBiquadFilter();\n    this.filter.type = 'bandpass';\n    this.filter.frequency.value = this.tone * 2;\n    this.envelope = this.context.createGain();\n\n\n    this.noise.connect(this.filter);\n    this.filter.connect(this.envelope);\n    this.envelope.connect(this.effects);\n    // this.envelope.connect(this.context.destination);\n  }\n\n  trigger = time => {\n    if (!this.volume) return;\n    this.setup();\n    this.envelope.gain.setValueAtTime(this.volume, time);\n    this.envelope.gain.exponentialRampToValueAtTime(0.1, time + this.pulseWidth);\n\n    this.envelope.gain.setValueAtTime(this.volume, time + this.pulseWidth);\n    this.envelope.gain.exponentialRampToValueAtTime(0.1, time + 2 * this.pulseWidth);\n\n    this.envelope.gain.setValueAtTime(this.volume, time + 2 * this.pulseWidth);\n    this.envelope.gain.exponentialRampToValueAtTime(0.001, time + this.decay);\n\n\n    this.noise.start(time)\n    this.noise.stop(time + this.decay);\n  }\n}","import React from 'react';\nimport ReactLoading from 'react-loading'\nimport Sequence from '../../util/Sequence';\nimport StepBar from './StepBar';\nimport Row from './Row';\n\nimport Kick from '../../synthesis/Kick';\nimport Snare from '../../synthesis/Snare';\nimport Hat from '../../synthesis/Hat';\nimport Clap from '../../synthesis/Clap';\n \n\nexport default class StepSequeuncer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      step: 0,\n      loaded: false, \n      loading: false \n    };\n\n    const { transport, effects, kick, snare, hat, clap } = this.props;\n\n    this.transport = transport;\n    this.context = transport.context;\n    this.effects = effects;\n\n    this.kick = new Kick(this.context, this.effects, kick);\n    this.snare = new Snare(this.context, this.effects, snare);\n    this.hat = new Hat(this.context, this.effects, hat);\n    this.clap = new Clap(this.context, this.effects, clap);\n\n    this.kickSequence = new Sequence();\n    this.snareSequence = new Sequence();\n    this.hatSequence = new Sequence();\n    this.clapSequence = new Sequence();\n\n    transport.scheduleRepeat(this.repeat, '16n');\n\n    document.addEventListener('keydown', e => {\n      switch (e.keyCode) {  \n        case 13: \n          e.preventDefault();\n          this.setState({ step: 0 });\n          break;\n        default:\n          return;\n      }\n    })\n\n    document.addEventListener(\"DOMContentLoaded\", () => {\n      const main = document.getElementById('electron-aligner');\n      main.addEventListener('click', this.pressStart);\n    })\n  }\n\n  pressStart = e => {\n    e.preventDefault();\n    document.getElementById('start-button').click();\n    document.getElementById('electron-aligner').removeEventListener('click', this.pressStart);\n  }\n\n  componentDidUpdate = prevProps => {\n    const { kick, snare, hat, clap } = this.props;\n    this.kick = new Kick(this.transport.context, this.effects, kick);\n    this.snare = new Snare(this.transport.context, this.effects, snare);\n    this.hat = new Hat(this.transport.context, this.effects, hat);\n    this.clap = new Clap(this.transport.context, this.effects, clap);\n  }\n\n  repeat = time => {\n    if (this.kickSequence.steps[this.state.step]) this.kick.trigger(time);\n    if (this.snareSequence.steps[this.state.step]) this.snare.trigger(time);\n    if (this.hatSequence.steps[this.state.step]) this.hat.trigger(time);\n    if (this.clapSequence.steps[this.state.step]) this.clap.trigger(time);\n    this.setState(state => {\n      return { step: ((state.step + 1) % 16)}\n    })\n  }\n\n  updateSequence = (sound, stepNumber, selected) => {\n    switch (sound) {\n      case \"kick\":\n        this.kickSequence.steps[stepNumber] = selected;\n        break;\n      case \"snare\":\n        this.snareSequence.steps[stepNumber] = selected;\n        break;\n      case \"hat\":\n        this.hatSequence.steps[stepNumber] = selected;\n        break;\n      case \"clap\":\n        this.clapSequence.steps[stepNumber] = selected;\n        break;\n      default:\n        return;\n    }\n  }\n\n  warmUp = () => {\n    this.setState({ loading: true });\n    setTimeout(() => {\n      // this.props.toggleMute();\n      this.props.togglePlay();\n      setTimeout(() => {\n        this.props.toggleMute();\n        this.props.togglePlay();\n        setTimeout(() => {\n          this.setState({ step: 0 });\n          setTimeout(() => {\n            this.setState({ loading: false, loaded: true })\n          }, 200)\n        }, 10)\n      }, 200);\n    }, 500)\n  }\n\n  bootUpSequencer = () => {\n    const { masterVolume, analyser } = this.props;\n    this.warmUp();\n    setTimeout(() => {\n      masterVolume.connect(analyser);\n    }, 1000)\n  }\n\n  getColor = () => {\n    switch(this.props.colorScheme) {\n      case \"future time\":\n        return \"rgb(143, 97, 230)\";\n      case \"sparks\":\n        return \"rgb(231, 133, 41)\";\n      case \"dokidoki\":\n        return \"rgb(248, 103, 131)\";\n      case \"free\":\n        return \"rgb(71, 209, 222)\";\n      case \"hxh\":\n        return \"rgb(81, 145, 78)\";\n      default:\n        return \"rgb(143, 97, 230)\";\n    }\n  }\n\n  render() {\n    const color = this.props.colorScheme;\n\n    if (!this.state.loaded && !this.state.loading) {\n      return (\n        <div className=\"start-button-container\">\n          <button \n            className={`start-button ${color}`}\n            id=\"start-button\"\n            onClick={this.bootUpSequencer}\n          >\n            Start\n          </button>\n\n          <div className=\"click-catcher\"></div>\n        </div>\n      )\n    }\n\n    if (this.state.loading) {\n      return (\n        <div className=\"start-button-container\">\n          <div className=\"loading-container\">\n            <ReactLoading type={\"bars\"} color={`${this.getColor()}`} width={90} height={30}/>\n          </div>\n          <div className=\"click-catcher\"></div>\n        </div>\n      )\n    }\n\n    return (\n      <div className=\"step-sequencer\">\n\n        <StepBar currentStep={this.state.step} />\n\n        <Row\n          steps={this.kickSequence.steps}\n          sound=\"kick\"\n          updateSequence={this.updateSequence}\n          colorScheme={this.props.colorScheme}\n        />\n\n        <Row\n          steps={this.snareSequence.steps}\n          sound=\"snare\"\n          updateSequence={this.updateSequence}\n          colorScheme={this.props.colorScheme}\n        />\n\n        <Row\n          steps={this.hatSequence.steps}\n          sound=\"hat\"\n          updateSequence={this.updateSequence}\n          colorScheme={this.props.colorScheme}\n        />\n\n        <Row\n          steps={this.clapSequence.steps}\n          sound=\"clap\"\n          updateSequence={this.updateSequence}\n          colorScheme={this.props.colorScheme}\n        />\n      </div>\n    )\n  }\n}","import React from 'react';\nimport Tone, { Transport } from 'tone';\nimport LogoAndButtons from './Main/LogoAndButtons';\nimport Oscilloscope from './Main/Oscilloscope';\nimport SoundControls from './Main/SoundControls';\nimport Wildcards from './Main/Wildcards';\nimport StepSequencer from './Sequencer/StepSequencer';\n\nexport default class DrumBoy extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bpm: 120,\n      playing: false,\n      masterVolume: 0,\n      prevVolume: 1,\n      colorScheme: '--color--',\n      kick: {\n        volume: 1,\n        tone: 150,\n        decay: 0.5\n      },\n      snare: {\n        volume: 1,\n        tone: 100,\n        decay: 0.2\n      },\n      hat: {\n        volume: 1,\n        tone: 130,\n        decay: 0.5\n      },\n      clap: {\n        volume: 1,\n        tone: 600,\n        decay: 0.3\n      }\n    };\n\n    const context = Transport.context.rawContext;\n    this.effects = context.createGain();\n    this.masterVolume = context.createGain();\n    this.analyser = context.createAnalyser();\n    this.bitCrusher = new Tone.BitCrusher(4);\n    this.bitCrusher.wet.value = 0;\n    this.chorus = new Tone.Chorus();\n    this.chorus.wet.value = 0;\n    this.wah = new Tone.AutoWah();\n    this.wah.wet.value = 0;\n    this.pingPong = new Tone.PingPongDelay();\n    this.pingPong.wet.value = 0;\n\n    //input -> effects -> masterVolume -> analyser -> output \n    this.effects.connect(this.bitCrusher.input);\n    this.bitCrusher.connect(this.chorus.input);\n    this.chorus.connect(this.wah.input);\n    this.wah.connect(this.pingPong.input);\n    this.pingPong.connect(this.masterVolume);\n    // this connection is now done after warmUp in Step Sequencer\n    // this.masterVolume.connect(this.analyser);\n    this.analyser.connect(context.destination);\n\n    Transport.bpm.value = 120;\n    Transport.loop = true;\n    Transport.swing = 0;\n    Transport.loopEnd = \"1m\";\n\n    document.addEventListener('keydown', e => {\n      switch (e.keyCode) {\n        case 32:\n          e.preventDefault();\n          if (document.getElementById('start-button')) return;\n          this.togglePlay();\n          break;\n        case 38: \n          this.updateBpmFromArrowKey(this.state.bpm + 1);\n          break;\n        case 40: \n          this.updateBpmFromArrowKey(this.state.bpm - 1);\n          break;\n        case 74: \n          this.testSynth.triggerAttackRelease('C4', '4n');\n          break;\n        default:\n          return;\n      }\n    })\n  }\n\n  togglePlay = () => {\n    Transport.toggle();\n    this.setState(state => {\n      return { playing: !state.playing }\n    });\n  }\n\n  updateBpm = e => {\n    e.preventDefault();\n    const bpm = e.target.value;\n    if (bpm > 0 && bpm < 201) {\n      Transport.bpm.value = bpm;\n      this.setState({ bpm: e.target.value })\n    }\n  }\n\n  updateBpmFromArrowKey = bpm => {\n    if (bpm > 0 && bpm < 201) {\n      Transport.bpm.value = bpm;\n      this.setState({ bpm });\n    }\n  }\n\n  changeColorScheme = e => {\n    e.preventDefault();\n    this.setState({ colorScheme: e.target.value })\n  }\n\n  updateSound = (sound, setting, value) => {\n    this.setState(state => {\n      const updatedSound = state[sound];\n      if (setting === 'volume' || setting === 'decay') {\n        updatedSound[setting] = value / 100;\n      } else {\n        updatedSound[setting] = value;\n      }\n      return { [sound]: updatedSound };\n    })\n  }\n\n  changeMasterVolume = e => {\n    const masterVolume = e.currentTarget.value / 100;\n    this.setState({ masterVolume });\n    this.masterVolume.gain.setValueAtTime(masterVolume, Transport.context.currentTime);\n  }\n\n  toggleMute = () => {\n    const time = Transport.context.currentTime;\n    if (!this.state.masterVolume) {\n      const prevVolume = this.state.prevVolume;\n      this.setState({ masterVolume: prevVolume });\n      this.masterVolume.gain.setValueAtTime(prevVolume, time);\n    } else {\n      const masterVolume = this.state.masterVolume;\n      this.setState({ prevVolume: masterVolume, masterVolume: 0 });\n      this.masterVolume.gain.setValueAtTime(0, time);\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"drum-boy\" id=\"electron-aligner\">\n\n        <div className=\"main\">\n          <div className=\"top\">\n            <LogoAndButtons \n              bpm={this.state.bpm}\n              playing={this.state.playing}\n              togglePlay={this.togglePlay}\n              updateBpm={this.updateBpm}\n              changeColorScheme={this.changeColorScheme}\n              colorScheme={this.state.colorScheme}\n            />\n\n            <Oscilloscope \n              context={Transport.context.rawContext}\n              analyser={this.analyser}\n              colorScheme={this.state.colorScheme}\n            />\n\n            <SoundControls \n              kick={this.state.kick}\n              snare={this.state.snare}\n              hat={this.state.hat}\n              clap={this.state.clap}\n              masterVolume={this.state.masterVolume}\n              updateSound={this.updateSound}\n              changeMasterVolume={this.changeMasterVolume}\n              toggleMute={this.toggleMute}\n              colorScheme={this.state.colorScheme}\n            />\n          </div>\n\n          <Wildcards \n            context={Transport.context.rawContext}\n            effects={this.effects}\n            bitCrusher={this.bitCrusher}\n            wah={this.wah}\n            pingPong={this.pingPong}\n            chorus={this.chorus}\n            colorScheme={this.state.colorScheme} \n          />\n        </div>\n\n        <StepSequencer \n          transport={Transport} \n          effects={this.effects}\n          kick={this.state.kick}\n          snare={this.state.snare}\n          hat={this.state.hat}\n          clap={this.state.clap}\n          masterVolume={this.masterVolume}\n          analyser={this.analyser}\n          togglePlay={this.togglePlay}\n          toggleMute={this.toggleMute}\n          colorScheme={this.state.colorScheme}\n        />\n      </div>\n    )\n  }\n}","import React from 'react';\n\nexport default class Instructions extends React.Component {\n  render() {\n    return (\n      <div className=\"instructions-background\" onClick={this.props.toggleInstructions}>\n        <div className=\"instructions\">\n          <button><i className=\"fas fa-times\"></i></button>\n          <h2 className=\"instructions-header\">Instructions</h2>\n          <ul className=\"bullet-points\">\n            <li>Click the buttons in the grid to activate steps in the sequencer</li>\n            <li>Press the Space Bar or Play Button to play and pause your sequence</li>\n            <li>Press Enter to jump to the beginning of the sequence</li>\n            <li>Use the up and down arrow keys to adjust the tempo</li>\n            <li>Adjust the sliders in the top right to change the sounds live</li>\n            <li>Activate the wildcard buttons in the middle row for unexpected effects</li>\n          </ul>\n        </div>\n      </div>\n    )\n  }\n}","import React from 'react';\nimport Samples from './Samples';\nimport DrumBoy from './DrumBoy';\nimport Instructions from './Instructions';\n\nexport default class Container extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      instructions: false\n    };\n  }\n\n  toggleInstructions = () => {\n    this.setState(state => ({ instructions: !state.instructions }));\n  }\n\n  render() {\n    return (\n      <main>\n        <button\n          className=\"instruction-button\"\n          onClick={this.toggleInstructions}\n        >\n          <i className=\"fas fa-bars fa-2x\"></i>\n        </button>\n\n        {this.state.instructions && (\n          <Instructions toggleInstructions={this.toggleInstructions} />\n        )}\n        <Samples />\n        <DrumBoy />\n\n        <div className=\"mobile\">\n          <h2 className=\"mobile-header\">Electron Aligner</h2>\n          <p>Mobile version coming soon...</p>\n        </div>\n      </main>\n    )\n  }\n}","import React from 'react';\nimport Conatiner from './components/Container';\n\nfunction App() {\n  return (\n    <Conatiner />\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}