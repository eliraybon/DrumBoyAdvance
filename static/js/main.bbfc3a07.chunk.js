(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{12:function(e,t,a){e.exports=a(17)},17:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(8),o=a.n(c),i=a(1),r=a(2),l=a(4),u=a(3),m=a(5),p=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"samples"},s.a.createElement("audio",{id:"rain",src:"/assets/sounds/rain.mp3",autoPlay:!1,loop:!0}),s.a.createElement("audio",{id:"science",src:"/assets/sounds/science.mp3",autoPlay:!1,loop:!0}),s.a.createElement("audio",{id:"subway",src:"/assets/sounds/subway.mp3",autoPlay:!1,loop:!0}),s.a.createElement("audio",{id:"synth",src:"/assets/sounds/synth.mp3",autoPlay:!1,loop:!0}),s.a.createElement("audio",{id:"vinyl",src:"/assets/sounds/vinyl.mp3",autoPlay:!1,loop:!0}),s.a.createElement("audio",{id:"cat",src:"/assets/sounds/cat.mp3",autoPlay:!1}),s.a.createElement("audio",{id:"robot",src:"/assets/sounds/robot.mp3",autoPlay:!1}),s.a.createElement("audio",{id:"dracula",src:"/assets/sounds/dracula.mp3",autoPlay:!1}))}}]),t}(s.a.Component),d=a(9),h=a(6),g=a.n(h),v=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"logo-and-buttons"},s.a.createElement("div",{className:"logo"},s.a.createElement("h1",{className:"main-heading"},"Electron Aligner")),s.a.createElement("div",{className:"buttons"},s.a.createElement("div",{className:"play-button",onClick:this.props.togglePlay},this.props.playing&&s.a.createElement("i",{className:"fas fa-pause"}),!this.props.playing&&s.a.createElement("i",{className:"fas fa-play"})),s.a.createElement("div",{className:"bpm-select"},this.props.bpm)),s.a.createElement("select",{className:"color-select",value:this.props.colorScheme,onChange:function(t){return e.props.changeColorScheme(t)}},s.a.createElement("option",{className:"color-option",value:"--color--",disabled:!0},"--color--"),s.a.createElement("option",{className:"color-option",value:"default"},"default"),s.a.createElement("option",{className:"color-option",value:"classic"},"classic"),s.a.createElement("option",{className:"color-option",value:"dokidoki"},"dokidoki")))}}]),t}(s.a.Component),f=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).visualize=function(){cancelAnimationFrame(a.animation),a.canvasCtx.clearRect(0,0,a.WIDTH,a.HEIGHT),"osc"===a.state.mode?a.drawOsc():a.drawBars()},a.drawOsc=function(){a.analyser.fftSize=2048;var e=a.analyser.fftSize,t=new Uint8Array(e);a.animation=requestAnimationFrame(a.drawOsc),a.analyser.getByteTimeDomainData(t),a.canvasCtx.fillStyle="rgb(0, 0, 0)",a.canvasCtx.fillRect(0,0,a.WIDTH,a.HEIGHT),a.canvasCtx.lineWidth=2,a.canvasCtx.strokeStyle="rgb(143, 97, 230)",a.canvasCtx.beginPath();for(var n=1*a.WIDTH/e,s=0,c=0;c<e;c++){var o=t[c]/128*a.HEIGHT/2;0===c?a.canvasCtx.moveTo(s,o):a.canvasCtx.lineTo(s,o),s+=n}a.canvasCtx.lineTo(a.canvas.width,a.canvas.height/2),a.canvasCtx.stroke()},a.drawBars=function(){a.analyser.fftSize=256;var e=a.analyser.frequencyBinCount,t=new Uint8Array(e);a.animation=requestAnimationFrame(a.drawBars),a.analyser.getByteFrequencyData(t),a.canvasCtx.fillStyle="rgb(0, 0, 0)",a.canvasCtx.fillRect(0,0,a.WIDTH,a.HEIGHT);for(var n,s=a.WIDTH/e*2.5,c=0,o=0;o<e;o++)n=t[o],a.canvasCtx.fillStyle="rgb("+(n+50)+",97,230)",a.canvasCtx.fillRect(c,a.HEIGHT-n/2,s,n/2),c+=s+1},a.toggleMode=function(e){e.preventDefault(),"osc"===a.state.mode?a.setState({mode:"bar"}):a.setState({mode:"osc"})};var n=a.props.analyser;return a.state={mode:"osc"},a.animation=null,document.addEventListener("DOMContentLoaded",(function(){a.canvas=document.querySelector(".osc-canvas"),a.canvasCtx=a.canvas.getContext("2d"),a.WIDTH=a.canvas.width,a.HEIGHT=a.canvas.height,a.analyser=n,a.visualize()})),a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(){this.visualize()}},{key:"render",value:function(){return s.a.createElement("div",{className:"oscilloscope"},s.a.createElement("button",{className:"visual-select",onClick:this.toggleMode},"osc"===this.state.mode?"bar":"osc"),s.a.createElement("canvas",{className:"osc-canvas"}))}}]),t}(s.a.Component),y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).updateSound=function(e,t,n){var s=parseInt(e.currentTarget.value);a.props.updateSound(t,n,s)},document.addEventListener("keydown",(function(e){switch(e.keyCode){case 77:a.props.toggleMute();break;default:return}})),a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"sound-controls"},s.a.createElement("input",{className:"master-volume",type:"range",value:100*this.props.masterVolume,min:0,max:100,onChange:this.props.changeMasterVolume}),s.a.createElement("button",{className:"mute-button",onClick:this.props.toggleMute},"Mute"),s.a.createElement("div",{className:"sc-left"},s.a.createElement("div",{className:"kick-controls"},s.a.createElement("h3",{className:"sound-label"},"Kick"),s.a.createElement("input",{className:"kick-input",type:"range",min:0,max:100,value:100*this.props.kick.volume,onChange:function(t){return e.updateSound(t,"kick","volume")}}),s.a.createElement("input",{className:"kick-input",type:"range",min:100,max:350,value:this.props.kick.tone,onChange:function(t){return e.updateSound(t,"kick","tone")}}),s.a.createElement("input",{className:"kick-input",type:"range",min:0,max:200,value:100*this.props.kick.decay,onChange:function(t){return e.updateSound(t,"kick","decay")}})),s.a.createElement("div",{className:"snare-controls"},s.a.createElement("h3",{className:"sound-label"},"Snare"),s.a.createElement("input",{className:"snare-input",type:"range",min:0,max:100,value:100*this.props.snare.volume,onChange:function(t){return e.updateSound(t,"snare","volume")}}),s.a.createElement("input",{className:"snare-input",type:"range",min:20,max:300,value:this.props.snare.tone,onChange:function(t){return e.updateSound(t,"snare","tone")}}),s.a.createElement("input",{className:"snare-input",type:"range",min:0,max:75,value:100*this.props.snare.decay,onChange:function(t){return e.updateSound(t,"snare","decay")}}))),s.a.createElement("div",{className:"sc-middle"},s.a.createElement("div",{className:"setting-labels"},s.a.createElement("p",null,"Volume"),s.a.createElement("p",null,"Tone"),s.a.createElement("p",null,"Decay")),s.a.createElement("div",{className:"setting-labels"},s.a.createElement("p",null,"Volume"),s.a.createElement("p",null,"Tone"),s.a.createElement("p",null,"Decay"))),s.a.createElement("div",{className:"sc-right"},s.a.createElement("div",{className:"hat-controls"},s.a.createElement("h3",{className:"sound-label"},"Hat"),s.a.createElement("input",{className:"hat-input",type:"range",min:0,max:100,value:100*this.props.hat.volume,onChange:function(t){return e.updateSound(t,"hat","volume")}}),s.a.createElement("input",{className:"hat-input",type:"range",min:100,max:350,value:this.props.hat.tone,onChange:function(t){return e.updateSound(t,"hat","tone")}}),s.a.createElement("input",{className:"hat-input",type:"range",min:0,max:200,value:100*this.props.hat.decay,onChange:function(t){return e.updateSound(t,"hat","decay")}})),s.a.createElement("div",{className:"clap-controls"},s.a.createElement("h3",{className:"sound-label"},"Clap"),s.a.createElement("input",{className:"clap-input",type:"range",min:0,max:100,value:100*this.props.clap.volume,onChange:function(t){return e.updateSound(t,"clap","volume")}}),s.a.createElement("input",{className:"clap-input",type:"range",min:300,max:1e3,value:this.props.clap.tone,onChange:function(t){return e.updateSound(t,"clap","tone")}}),s.a.createElement("input",{className:"clap-input",type:"range",min:0,max:75,value:100*this.props.clap.decay,onChange:function(t){return e.updateSound(t,"clap","decay")}}))))}}]),t}(s.a.Component),b=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).toggleBitCrusher=function(){var e=a.props.bitCrusher;a.setState((function(e){return{bitCrusher:!e.bitCrusher}})),0===e.wet.value?e.wet.value=1:e.wet.value=0},a.toggleChorus=function(){var e=a.props.chorus;a.setState((function(e){return{chorus:!e.chorus}})),0===e.wet.value?e.wet.value=1:e.wet.value=0},a.toggleWah=function(){var e=a.props.wah;a.setState((function(e){return{wah:!e.wah}})),0===e.wet.value?e.wet.value=1:e.wet.value=0},a.togglePingPong=function(){var e=a.props.pingPong;a.setState((function(e){return{pingPong:!e.pingPong}})),0===e.wet.value?e.wet.value=.5:e.wet.value=0},a.toggleRain=function(){a.setState((function(e){return{rain:!e.rain}})),a.rain.paused?a.rain.play():a.rain.pause()},a.toggleScience=function(){a.setState((function(e){return{science:!e.science}})),a.science.paused?a.science.play():a.science.pause()},a.toggleSynth=function(){a.setState((function(e){return{synth:!e.synth}})),a.synth.paused?a.synth.play():a.synth.pause()},a.toggleSubway=function(){a.setState((function(e){return{subway:!e.subway}})),a.subway.paused?a.subway.play():a.subway.pause()},a.toggleVinyl=function(){a.setState((function(e){return{vinyl:!e.vinyl}})),a.vinyl.paused?a.vinyl.play():a.vinyl.pause()},a.playDracula=function(){a.dracula.paused&&(a.setState({dracula:!0}),a.dracula.play(),setTimeout((function(){a.setState({dracula:!1})}),5500))},a.triggerMeow=function(){a.cat.paused&&(a.setState({cat:!0}),a.cat.play(),setTimeout((function(){a.setState({cat:!1})}),1e3))},a.tryAgain=function(){a.robot.paused&&(a.setState({robot:!0}),a.robot.play(),setTimeout((function(){a.setState({robot:!1})}),2e3))};var n=a.props,s=n.context,c=n.effects;return a.state={rain:!1,dracula:!1,cat:!1,robot:!1,bitCrusher:!1,chorus:!1,wah:!1,pingPong:!1,science:!1,synth:!1,subway:!1,vinyl:!1},document.addEventListener("DOMContentLoaded",(function(){a.rain=document.getElementById("rain");var e=s.createMediaElementSource(a.rain);a.rainGain=s.createGain(),e.connect(a.rainGain),a.rainGain.connect(c),a.dracula=document.getElementById("dracula");var t=s.createMediaElementSource(a.dracula);a.draculaGain=s.createGain(),t.connect(a.draculaGain),a.draculaGain.connect(c),a.cat=document.getElementById("cat");var n=s.createMediaElementSource(a.cat);a.catGain=s.createGain(),n.connect(a.catGain),a.catGain.connect(c),a.robot=document.getElementById("robot");var o=s.createMediaElementSource(a.robot);a.robotGain=s.createGain(),o.connect(a.robotGain),a.robotGain.connect(c),a.science=document.getElementById("science");var i=s.createMediaElementSource(a.science);a.scienceGain=s.createGain(),i.connect(a.scienceGain),a.scienceGain.connect(c),a.synth=document.getElementById("synth");var r=s.createMediaElementSource(a.synth);a.synthGain=s.createGain(),r.connect(a.synthGain),a.synthGain.connect(c),a.subway=document.getElementById("subway");var l=s.createMediaElementSource(a.subway);a.subwayGain=s.createGain(),l.connect(a.subwayGain),a.subwayGain.connect(c),a.vinyl=document.getElementById("vinyl");var u=s.createMediaElementSource(a.vinyl);a.vinylGain=s.createGain(),u.connect(a.vinylGain),a.vinylGain.connect(c)})),a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.state.bitCrusher?"active-effect":"",t=this.state.rain?"active-effect":"",a=this.state.chorus?"active-effect":"",n=this.state.wah?"active-effect":"",c=this.state.pingPong?"active-effect":"",o=this.state.dracula?"active-effect":"",i=this.state.cat?"active-effect":"",r=this.state.robot?"active-effect":"",l=this.state.science?"active-effect":"",u=this.state.synth?"active-effect":"",m=this.state.subway?"active-effect":"",p=this.state.vinyl?"active-effect":"";return s.a.createElement("ul",{className:"wildcards"},s.a.createElement("li",{className:"wildcard ".concat(t),onClick:this.toggleRain,key:"rain"},s.a.createElement("img",{className:"wildcard-image",src:"/assets/images/raindrops-solid.svg",alt:""})),s.a.createElement("li",{className:"wildcard ".concat(o),onClick:this.playDracula,key:"dracula"},s.a.createElement("img",{className:"wildcard-image",src:"/assets/images/bat-solid.svg",alt:""})),s.a.createElement("li",{className:"wildcard ".concat(i),onClick:this.triggerMeow,key:"cat"},s.a.createElement("img",{className:"wildcard-image",src:"/assets/images/cat-solid.svg",alt:""})),s.a.createElement("li",{className:"wildcard ".concat(r),onClick:this.tryAgain,key:"robot"},s.a.createElement("img",{className:"wildcard-image",src:"/assets/images/robot-solid.svg",alt:""})),s.a.createElement("li",{className:"wildcard ".concat(l),onClick:this.toggleScience,key:"science"},s.a.createElement("img",{className:"wildcard-image",src:"/assets/images/flask-solid.svg",alt:""})),s.a.createElement("li",{className:"wildcard ".concat(u),onClick:this.toggleSynth,key:"synth"},s.a.createElement("img",{className:"wildcard-image",src:"/assets/images/piano-keyboard-solid.svg",alt:""})),s.a.createElement("li",{className:"wildcard ".concat(m),onClick:this.toggleSubway,key:"subway"},s.a.createElement("img",{className:"wildcard-image",src:"/assets/images/subway-solid.svg",alt:""})),s.a.createElement("li",{className:"wildcard ".concat(p),onClick:this.toggleVinyl,key:"vinyl"},s.a.createElement("img",{className:"wildcard-image",src:"/ElectronAligner/assets/images/turntable-solid.svg",alt:""})),s.a.createElement("li",{className:"wildcard ".concat(e),onClick:this.toggleBitCrusher,key:"donotpress"},s.a.createElement("img",{className:"wildcard-image",src:"/assets/images/bomb-solid.svg",alt:""})),s.a.createElement("li",{className:"wildcard ".concat(a),onClick:this.toggleChorus,key:"chorus"},s.a.createElement("img",{className:"wildcard-image",src:"/assets/images/cassette-tape-solid.svg",alt:""})),s.a.createElement("li",{className:"wildcard ".concat(n),onClick:this.toggleWah,key:"wah"},s.a.createElement("img",{className:"wildcard-image",src:"/assets/images/wave-sine-solid.svg",alt:""})),s.a.createElement("li",{className:"wildcard ".concat(c),onClick:this.togglePingPong,key:"pong"},s.a.createElement("img",{className:"wildcard-image",src:"/assets/images/table-tennis-solid.svg",alt:""})))}}]),t}(s.a.Component),E=a(10),k=a.n(E),w=function e(){Object(i.a)(this,e),this.steps=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]},S=a(11),C=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.step===e.currentStep?"active-light":"";return s.a.createElement("li",{className:"step-bar-light ".concat(t)})}}]),t}(s.a.Component),N=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("ul",{className:"step-bar"},Object(S.a)(Array(16).keys()).map((function(t){return s.a.createElement(C,{step:t,currentStep:e.props.currentStep,key:t})})))}}]),t}(s.a.Component),x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).toggleSelect=function(){var e=a.props,t=e.sound,n=e.stepNumber;a.setState((function(e){return{selected:!e.selected}})),a.props.updateSequence(t,n,!a.state.selected)},a.state={selected:e.step},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.state.selected?"selected":"";return s.a.createElement("li",{className:"step ".concat(e),onClick:this.toggleSelect})}}]),t}(s.a.Component),T=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"row-container"},s.a.createElement("p",{className:"track-label"},this.props.sound),s.a.createElement("ul",{className:"row"},this.props.steps.map((function(t,a){return s.a.createElement(x,{step:t,sound:e.props.sound,stepNumber:a,updateSequence:e.props.updateSequence,key:a})}))))}}]),t}(s.a.Component),O=function e(t,a,n){var s=this;Object(i.a)(this,e),this.setup=function(){s.osc=s.context.createOscillator(),s.gain=s.context.createGain(),s.osc.connect(s.gain),s.gain.connect(s.effects)},this.trigger=function(e){s.volume&&(s.setup(),s.osc.frequency.setValueAtTime(s.tone,e+.001),s.gain.gain.setValueAtTime(s.volume,e),s.osc.frequency.exponentialRampToValueAtTime(.01,e+s.decay),s.gain.gain.exponentialRampToValueAtTime(.01,e+s.decay),s.gain.gain.linearRampToValueAtTime(0,e+s.decay+.1),s.osc.start(e),s.osc.stop(e+s.decay+.1))},this.context=t.rawContext,this.effects=a,this.tone=n.tone,this.volume=n.volume,this.decay=n.decay},j=function e(t,a,n){var s=this;Object(i.a)(this,e),this.noiseBuffer=function(){for(var e=s.context.sampleRate,t=s.context.createBuffer(1,e,s.context.sampleRate),a=t.getChannelData(0),n=0;n<e;n++)a[n]=2*Math.random()-1;return t},this.setup=function(){s.noise=s.context.createBufferSource(),s.noise.buffer=s.noiseBuffer();var e=s.context.createBiquadFilter();e.type="highpass",e.frequency.value=1e3,s.noise.connect(e),s.noiseEnvelope=s.context.createGain(),e.connect(s.noiseEnvelope),s.noiseEnvelope.connect(s.effects),s.osc=s.context.createOscillator(),s.osc.type="triangle",s.oscEnvelope=s.context.createGain(),s.osc.connect(s.oscEnvelope),s.oscEnvelope.connect(s.effects)},this.trigger=function(e){s.volume&&(s.setup(),s.noiseEnvelope.gain.setValueAtTime(s.volume,e),s.noiseEnvelope.gain.exponentialRampToValueAtTime(.01,e+s.decay),s.noise.start(e),s.osc.frequency.setValueAtTime(s.tone,e),s.volume>=.7?s.oscEnvelope.gain.setValueAtTime(.5,e):s.oscEnvelope.gain.setValueAtTime(s.volume,e),s.oscEnvelope.gain.exponentialRampToValueAtTime(.01,e+.1),s.osc.start(e),s.decay>=.2?s.osc.stop(e+.2):s.osc.stop(e+s.decay),s.noise.stop(e+s.decay))},this.context=t.rawContext,this.effects=a,this.tone=n.tone,this.volume=n.volume,this.decay=n.decay},q=function e(t,a,n){var s=this;Object(i.a)(this,e),this.setup=function(){s.oscEnvelope=s.context.createGain(),s.bndPass=s.context.createBiquadFilter(),s.bndPass.type="bandpass",s.bndPass.frequency.value=2e4,s.bndPass.Q.value=.2,s.hipass=s.context.createBiquadFilter(),s.hipass.type="highpass",s.hipass.frequency.value=5e3,s.bndPass.connect(s.hipass),s.hipass.connect(s.oscEnvelope),s.oscEnvelope.connect(s.effects)},this.trigger=function(e){0!==s.volume&&(s.setup(),s.ratios.forEach((function(t){var a=s.context.createOscillator();a.type="square",a.frequency.value=s.tone*t,a.connect(s.bndPass),a.start(e),a.stop(e+s.decay)})),s.oscEnvelope.gain.setValueAtTime(1e-5*s.volume,e),s.oscEnvelope.gain.exponentialRampToValueAtTime(1*s.volume,e+.001*s.decay),s.oscEnvelope.gain.exponentialRampToValueAtTime(.3*s.volume,e+.002*s.decay),s.oscEnvelope.gain.exponentialRampToValueAtTime(1e-5*s.volume,e+s.decay))},this.context=t.rawContext,this.effects=a,this.ratios=[1,1.342,1.2312,1.6532,1.9523,2.1523],this.tone=n.tone,this.decay=n.decay,this.volume=n.volume},V=function(){function e(t,a,n){var s=this;Object(i.a)(this,e),this.trigger=function(e){s.volume&&(s.setup(),s.envelope.gain.setValueAtTime(s.volume,e),s.envelope.gain.exponentialRampToValueAtTime(.1,e+s.pulseWidth),s.envelope.gain.setValueAtTime(s.volume,e+s.pulseWidth),s.envelope.gain.exponentialRampToValueAtTime(.1,e+2*s.pulseWidth),s.envelope.gain.setValueAtTime(s.volume,e+2*s.pulseWidth),s.envelope.gain.exponentialRampToValueAtTime(.001,e+s.decay),s.noise.start(e),s.noise.stop(e+s.decay))},this.context=t.rawContext,this.effects=a,this.tone=n.tone,this.volume=n.volume,this.decay=n.decay,this.pulseWidth=.025}return Object(r.a)(e,[{key:"noiseBuffer",value:function(){for(var e=this.context.sampleRate,t=this.context.createBuffer(1,e,this.context.sampleRate),a=t.getChannelData(0),n=0;n<e;n++)a[n]=2*Math.random()-1;return t}},{key:"setup",value:function(){this.noise=this.context.createBufferSource(),this.noise.buffer=this.noiseBuffer(),this.filter=this.context.createBiquadFilter(),this.filter.type="bandpass",this.filter.frequency.value=2*this.tone,this.envelope=this.context.createGain(),this.noise.connect(this.filter),this.filter.connect(this.envelope),this.envelope.connect(this.effects)}}]),e}(),G=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).pressStart=function(e){e.preventDefault(),document.getElementById("start-button").click(),document.getElementById("electron-aligner").removeEventListener("click",a.pressStart)},a.componentDidUpdate=function(e){var t=a.props,n=t.kick,s=t.snare,c=t.hat,o=t.clap;a.kick=new O(a.transport.context,a.effects,n),a.snare=new j(a.transport.context,a.effects,s),a.hat=new q(a.transport.context,a.effects,c),a.clap=new V(a.transport.context,a.effects,o)},a.repeat=function(e){a.kickSequence.steps[a.state.step]&&a.kick.trigger(e),a.snareSequence.steps[a.state.step]&&a.snare.trigger(e),a.hatSequence.steps[a.state.step]&&a.hat.trigger(e),a.clapSequence.steps[a.state.step]&&a.clap.trigger(e),a.setState((function(e){return{step:(e.step+1)%16}}))},a.updateSequence=function(e,t,n){switch(e){case"kick":a.kickSequence.steps[t]=n;break;case"snare":a.snareSequence.steps[t]=n;break;case"hat":a.hatSequence.steps[t]=n;break;case"clap":a.clapSequence.steps[t]=n;break;default:return}},a.warmUp=function(){a.setState({loading:!0}),setTimeout((function(){a.props.togglePlay(),setTimeout((function(){a.props.toggleMute(),a.props.togglePlay(),setTimeout((function(){a.setState({step:0}),setTimeout((function(){a.setState({loading:!1,loaded:!0})}),200)}),10)}),200)}),500)},a.bootUpSequencer=function(){var e=a.props,t=e.masterVolume,n=e.analyser;a.warmUp(),setTimeout((function(){t.connect(n)}),1e3)},a.state={step:0,loaded:!1,loading:!1};var n=a.props,s=n.transport,c=n.effects,o=n.kick,r=n.snare,m=n.hat,p=n.clap;return a.transport=s,a.context=s.context,a.effects=c,a.kick=new O(a.context,a.effects,o),a.snare=new j(a.context,a.effects,r),a.hat=new q(a.context,a.effects,m),a.clap=new V(a.context,a.effects,p),a.kickSequence=new w,a.snareSequence=new w,a.hatSequence=new w,a.clapSequence=new w,s.scheduleRepeat(a.repeat,"16n"),document.addEventListener("keydown",(function(e){switch(e.keyCode){case 13:e.preventDefault(),a.setState({step:0});break;default:return}})),document.addEventListener("DOMContentLoaded",(function(){document.getElementById("electron-aligner").addEventListener("click",a.pressStart)})),a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return this.state.loaded||this.state.loading?this.state.loading?s.a.createElement("div",{className:"start-button-container"},s.a.createElement("div",{className:"loading-container"},s.a.createElement(k.a,{type:"bars",color:"rgb(143, 97, 230)",width:90,height:30})),s.a.createElement("div",{className:"click-catcher"})):s.a.createElement("div",{className:"step-sequencer"},s.a.createElement(N,{currentStep:this.state.step}),s.a.createElement(T,{steps:this.kickSequence.steps,sound:"kick",updateSequence:this.updateSequence}),s.a.createElement(T,{steps:this.snareSequence.steps,sound:"snare",updateSequence:this.updateSequence}),s.a.createElement(T,{steps:this.hatSequence.steps,sound:"hat",updateSequence:this.updateSequence}),s.a.createElement(T,{steps:this.clapSequence.steps,sound:"clap",updateSequence:this.updateSequence})):s.a.createElement("div",{className:"start-button-container"},s.a.createElement("button",{className:"start-button",id:"start-button",onClick:this.bootUpSequencer},"Start"),s.a.createElement("div",{className:"click-catcher"}))}}]),t}(s.a.Component),P=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).togglePlay=function(){h.Transport.toggle(),a.setState((function(e){return{playing:!e.playing}}))},a.updateBpm=function(e){e.preventDefault();var t=e.target.value;t>0&&t<201&&(h.Transport.bpm.value=t,a.setState({bpm:e.target.value}))},a.updateBpmFromArrowKey=function(e){e>0&&e<201&&(h.Transport.bpm.value=e,a.setState({bpm:e}))},a.changeColorScheme=function(e){e.preventDefault(),a.setState({colorScheme:e.target.value})},a.updateSound=function(e,t,n){a.setState((function(a){var s=a[e];return s[t]="volume"===t||"decay"===t?n/100:n,Object(d.a)({},e,s)}))},a.changeMasterVolume=function(e){var t=e.currentTarget.value/100;a.setState({masterVolume:t}),a.masterVolume.gain.setValueAtTime(t,h.Transport.context.currentTime)},a.toggleMute=function(){var e=h.Transport.context.currentTime;if(a.state.masterVolume){var t=a.state.masterVolume;a.setState({prevVolume:t,masterVolume:0}),a.masterVolume.gain.setValueAtTime(0,e)}else{var n=a.state.prevVolume;a.setState({masterVolume:n}),a.masterVolume.gain.setValueAtTime(n,e)}},a.state={bpm:120,playing:!1,masterVolume:0,prevVolume:1,colorScheme:"--color--",kick:{volume:1,tone:150,decay:.5},snare:{volume:1,tone:100,decay:.2},hat:{volume:1,tone:130,decay:.5},clap:{volume:1,tone:600,decay:.3}};var n=h.Transport.context.rawContext;return a.effects=n.createGain(),a.masterVolume=n.createGain(),a.analyser=n.createAnalyser(),a.bitCrusher=new g.a.BitCrusher(4),a.bitCrusher.wet.value=0,a.chorus=new g.a.Chorus,a.chorus.wet.value=0,a.wah=new g.a.AutoWah,a.wah.wet.value=0,a.pingPong=new g.a.PingPongDelay,a.pingPong.wet.value=0,a.effects.connect(a.bitCrusher.input),a.bitCrusher.connect(a.chorus.input),a.chorus.connect(a.wah.input),a.wah.connect(a.pingPong.input),a.pingPong.connect(a.masterVolume),a.analyser.connect(n.destination),h.Transport.bpm.value=120,h.Transport.loop=!0,h.Transport.swing=0,h.Transport.loopEnd="1m",document.addEventListener("keydown",(function(e){switch(e.keyCode){case 32:if(e.preventDefault(),document.getElementById("start-button"))return;a.togglePlay();break;case 38:a.updateBpmFromArrowKey(a.state.bpm+1);break;case 40:a.updateBpmFromArrowKey(a.state.bpm-1);break;case 74:a.testSynth.triggerAttackRelease("C4","4n");break;default:return}})),a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"drum-boy",id:"electron-aligner"},s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"top"},s.a.createElement(v,{bpm:this.state.bpm,playing:this.state.playing,togglePlay:this.togglePlay,updateBpm:this.updateBpm,changeColorScheme:this.changeColorScheme,colorScheme:this.state.colorScheme}),s.a.createElement(f,{context:h.Transport.context.rawContext,analyser:this.analyser,colorScheme:this.state.colorScheme}),s.a.createElement(y,{kick:this.state.kick,snare:this.state.snare,hat:this.state.hat,clap:this.state.clap,masterVolume:this.state.masterVolume,updateSound:this.updateSound,changeMasterVolume:this.changeMasterVolume,toggleMute:this.toggleMute,colorScheme:this.state.colorScheme})),s.a.createElement(b,{context:h.Transport.context.rawContext,effects:this.effects,bitCrusher:this.bitCrusher,wah:this.wah,pingPong:this.pingPong,chorus:this.chorus,colorScheme:this.state.colorScheme})),s.a.createElement(G,{transport:h.Transport,effects:this.effects,kick:this.state.kick,snare:this.state.snare,hat:this.state.hat,clap:this.state.clap,masterVolume:this.masterVolume,analyser:this.analyser,togglePlay:this.togglePlay,toggleMute:this.toggleMute,colorScheme:this.state.colorScheme}))}}]),t}(s.a.Component),B=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).toggleInstructions=function(){a.setState((function(e){return{instructions:!e.instructions}}))},a.state={instructions:!1},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement("main",null,s.a.createElement("button",{className:"instruction-button",onClick:this.toggleInstructions},s.a.createElement("i",{className:"fas fa-bars fa-2x"})),this.state.instructions&&s.a.createElement("div",{className:"instructions-background",onClick:this.toggleInstructions},s.a.createElement("div",{className:"instructions"},s.a.createElement("button",null,s.a.createElement("i",{className:"fas fa-times"})),s.a.createElement("h2",{className:"instructions-header"},"Instructions"),s.a.createElement("ul",{className:"bullet-points"},s.a.createElement("li",null,"Click the buttons in the grid to activate steps in the sequencer"),s.a.createElement("li",null,"Press the Space Bar or Play Button to play and pause your sequence"),s.a.createElement("li",null,"Press Enter to jump to the beginning of the sequence"),s.a.createElement("li",null,"Use the up and down arrow keys to adjust the tempo"),s.a.createElement("li",null,"Adjust the sliders in the top right to change the sounds live"),s.a.createElement("li",null,"Activate the wildcard buttons in the middle row for unexpected effects")))),s.a.createElement(p,null),s.a.createElement(P,null))}}]),t}(s.a.Component);var A=function(){return s.a.createElement(B,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[12,1,2]]]);
//# sourceMappingURL=main.bbfc3a07.chunk.js.map